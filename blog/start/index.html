<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><title>Use case 1 | Hkube</title><meta name="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Hkube: HPC over Kubernetes."/><meta property="og:description" content="Hkube - HPC over Kubernetes, cloud native open source framework to run distributed pipeline of algorithms"/><meta property="og:type" content="website"/><meta property="og:url" content="http://hkube.org/"/><meta property="og:image" content="/img/home/og_image.png"/><meta property="og:image:type" content="image/png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@hkube"/><meta name="twitter:title" content="Hkube: HPC over Kubernetes"/><meta name="twitter:description" content="Hkube HPC over Kubernetes"/><meta name="twitter:image" content="/img/home/twitter_image.png"/><link rel="shortcut icon" href="/img/home/favicon.png"/><link rel="home" type="application/rss+xml" href="/blog/rss.xml" title="Hkube Team Blog"/><link rel="stylesheet" href="/style.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300|Roboto:300"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,400i,600"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/></head><body><header class="nav-header "><section class="nav-section"><input type="checkbox" id="toggle-menu-checkbox" checked=""/><label id="toggle-menu" for="toggle-menu-checkbox" class=""><span id="toggle-menu-icon"></span></label><a class="nav-home" href="/"><img class="nav-logo" src="/img/home/top-logo.svg"/></a><nav id="nav-links"><a href="/learn/">Get Started</a><a href="/tech/">Tech</a><a href="/media/">Media</a><a href="/blog/" class="active">Blog</a><a href="https://playground.hkube.org/" target="_blank" rel="noopener noreferrer">Playground</a><a href="https://github.com/kube-HPC" target="_blank" rel="noopener noreferrer">GitHub</a><a href="/spec/" target="_blank">Spec</a></nav><div class="algolia-search-wrapper"><input type="text" id="algolia-search-input" placeholder="Search docs..."/></div></section></header><section class="column"><div class="documentationContent"><div class="inner-content"><h1>Use case 1</h1><p>Tue May 14 2019 by Hkube</p><hr/><div><h3 id="example">Example<a class="hash-link" href="#example">#</a></h3><p>We want to build a simple pipeline of algorithms.<br/>The first thing we want to do is to add our algorithms to Hkube.<br/>Lets create an algorithm file named algorithm.yml.  </p><pre class="prism language-yaml">name<span class="punctuation">:</span> my<span class="operator">-</span>alg
image<span class="punctuation">:</span> my<span class="operator">-</span>image
resources<span class="punctuation">:</span>
   cpu<span class="punctuation">:</span> <span class="number">0.5</span>
   mem<span class="punctuation">:</span> 512Mi</pre><p>here we specify the minimum requirements: name, image and resources.<br/>Let&#x27;s assume that we have a docker image, if you don&#x27;t, Hkube can build it for you. 
click <a href="../learn/algorithms/" target="_blank" rel="nofollow noopener noreferrer">here</a> for more details.</p><p>There are many ways to interact with Hkube, using the CLI, REST API and UI.<br/>In this example we are using the CLI that works directly with the REST API.  </p><blockquote><p><code>hkubectl algorithm apply --f algorithm.yml</code></p></blockquote><p>Now we will want to create a pipeline of algorithms.<br/>Lets create our pipeline.yml file.</p><pre class="prism language-yaml">name<span class="punctuation">:</span> my<span class="operator">-</span>pipeline
nodes<span class="punctuation">:</span>
<span class="operator">-</span> nodeName<span class="punctuation">:</span> my<span class="operator">-</span>node<span class="number">-1</span>
  algorithmName<span class="punctuation">:</span> my<span class="operator">-</span>alg
  input<span class="punctuation">:</span>
  <span class="operator">-</span> <span class="string">&quot;flowInput.urls&quot;</span>
<span class="operator">-</span> nodeName<span class="punctuation">:</span> my<span class="operator">-</span>node<span class="number">-2</span>
  algorithmName<span class="punctuation">:</span> my<span class="operator">-</span>alg
  input<span class="punctuation">:</span>
  <span class="operator">-</span> <span class="string">&quot;@my-node-1&quot;</span>
<span class="operator">-</span> nodeName<span class="punctuation">:</span> my<span class="operator">-</span>node<span class="number">-3</span>
  algorithmName<span class="punctuation">:</span> my<span class="operator">-</span>alg
  input<span class="punctuation">:</span>
  <span class="operator">-</span> <span class="string">&quot;@my-node-2&quot;</span></pre><p>And run it like this.</p><blockquote><p><code>hkubectl pipeline exec raw --f pipeline.yml</code></p></blockquote><p>You can also store the pipeline first.</p><blockquote><p><code>hkubectl pipeline store -f pipeline.yml</code></p></blockquote><p>And then run it only by name.</p><blockquote><p><code>hkubectl pipeline exec stored my-pipeline</code></p></blockquote><p>As a result of executing pipeline, Hkube will return a <strong>jobId</strong>.<br/>This is a unique identifier which helps to query this specific pipeline execution.</p><p>For example: you can stop the pipeline like this.</p><blockquote><p><code>hkubectl exec stop &lt;jobId&gt; [reason]</code></p></blockquote><p>You can also track the pipeline status</p><blockquote><p><code>hkubectl exec status &lt;jobId&gt;</code></p></blockquote><p>or the pipeline result</p><blockquote><p><code>hkubectl exec result &lt;jobId&gt;</code></p></blockquote></div></div><div class="nav-docs"><div class="nav-docs-section"><h3>Subscribe</h3><a rel="home" type="application/rss+xml" href="/blog/rss.xml">RSS</a></div><div class="nav-docs-section"><h3>Recent Posts</h3><ul><li>Use case 1</li></ul></div></div></div></section><footer><section class="sitemap"><div class="sitemap-group"><h5><a href="/learn/">Learn</a></h5><a href="/learn/">Introduction</a><a href="/learn/pipelines/">Pipeline</a><a href="/learn/nodes/">Nodes</a><a href="/learn/input/">Input</a><a href="/learn/execution/">Execution</a><a href="/learn/webhooks/">Webhooks</a></div><div class="sitemap-group"><h5><a href="/tech/dashboard/">Dashboard</a></h5><a href="/tech/dashboard/#overview">Overview</a><a href="/tech/dashboard/#tables">Tables</a><a href="/tech/dashboard/#operations">Operations</a></div><div class="sitemap-group"><h5><a href="/media/">Media</a></h5><a href="/media/#jane/">Meet Jane</a><a href="/media/#distributed/">Distributed pipeline</a><a href="/media/#hpc/">HPC over Kubernetes</a><a href="/media/#architecture/">Hkube Architecture</a></div><div class="sitemap-group"><h5><a href="/learn/algorithms/">Algorithms</a></h5><a href="/learn/algorithms/">Introduction</a><a href="/learn/algorithms/#api/">API</a><a href="/learn/algorithms/#implement/">Implement</a><a href="/learn/algorithms/#build/">Build</a><a href="/learn/algorithms/#publish/">Publish</a></div></section><section class="copyright">Copyright Â©<span><script>document.write(new Date().getFullYear())</script> </span><noscript>2018</noscript>Hkube. MIT</section></footer><script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript" src="/vendor/scroller.js"></script><script>
        docsearch({
          appId: 'BQD9PBVIWN',
          apiKey: '1866dee8e47cc3f926114008ed8f7756',
          indexName: 'hkube',
          inputSelector: '#algolia-search-input',
          debug: false
        });
      </script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-118778729-1"></script><script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-118778729-1');
      </script></body></html>