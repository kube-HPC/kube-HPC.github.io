<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><title>Keycloak | Hkube</title><meta name="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Hkube: HPC over Kubernetes."/><meta property="og:description" content="Hkube - HPC over Kubernetes, cloud native open source framework to run distributed pipeline of algorithms"/><meta property="og:type" content="website"/><meta property="og:url" content="http://hkube.org/"/><meta property="og:image" content="/img/home/og_image.png"/><meta property="og:image:type" content="image/png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@hkube"/><meta name="twitter:title" content="Hkube: HPC over Kubernetes"/><meta name="twitter:description" content="Hkube HPC over Kubernetes"/><meta name="twitter:image" content="/img/home/twitter_image.png"/><link rel="shortcut icon" href="/img/home/favicon.png"/><link rel="home" type="application/rss+xml" href="/blog/rss.xml" title="Hkube Team Blog"/><link rel="stylesheet" href="/style.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300|Roboto:300"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,400i,600"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/></head><body><header class="nav-header "><section class="nav-section"><input type="checkbox" id="toggle-menu-checkbox" checked=""/><label id="toggle-menu" for="toggle-menu-checkbox" class=""><span id="toggle-menu-icon"></span></label><a class="nav-home" href="/"><img class="nav-logo" src="/img/home/top-logo.svg"/></a><nav id="nav-links"><a href="/learn/">Get Started</a><a href="/tech/">Tech</a><a href="/media/">Media</a><a href="/blog/">Blog</a><a href="https://playground.hkube.org/" target="_blank" rel="noopener noreferrer">Playground</a><a href="https://github.com/kube-HPC" target="_blank" rel="noopener noreferrer">GitHub</a><a href="/spec/" target="_blank">Spec</a></nav><div class="algolia-search-wrapper"><input type="text" id="algolia-search-input" placeholder="Search docs..."/></div></section></header><section class="column"><div class="documentationContent"><div class="inner-content"><h1>Keycloak</h1><div><h2 id="introduction">Introduction<a class="hash-link" href="#introduction">#</a></h2><h3 id="what-is-keycloak">What is Keycloak?<a class="hash-link" href="#what-is-keycloak">#</a></h3><p>Keycloak is an open-source identity and access management solution. It provides login, single sign-on (SSO), user management, and role-based access control (RBAC) for applications.<br/>HKube uses Keycloak to manage authentication and authorization across its components.<br/>Below is the login screen used in the HKube platform:<br/>[Insert screenshot of your HKube Keycloak login screen here]</p><hr/><h2 id="nginx-config-for-keycloak">NGINX Config for Keycloak<a class="hash-link" href="#nginx-config-for-keycloak">#</a></h2><h3 id="patch-ingress-config">Patch Ingress Config<a class="hash-link" href="#patch-ingress-config">#</a></h3><p>To allow large headers required by Keycloak, the NGINX ingress controller must be patched. Run the following commands:  </p><div><pre class="bash" id="patchIngress">
kubectl patch configmap ingress-nginx-controller -n ingress-nginx \
  --type merge \
  -p '{"data": {
    "large-client-header-buffers": "4 128k",
    "proxy-buffer-size": "128k",
    "proxy-buffers": "4 128k",
    "proxy-busy-buffers-size": "128k"
  }}'
kubectl delete pod -n ingress-nginx -l app.kubernetes.io/component=controller <button class="copy-btn" onclick="copyToClipboard('patchIngress')">Copy</button>
</pre>

</div><p>This configuration allows NGINX to handle larger authentication headers used by Keycloak.</p><hr/><h2 id="default-configuration">Default Configuration<a class="hash-link" href="#default-configuration">#</a></h2><h3 id="users">Users<a class="hash-link" href="#users">#</a></h3><p>HKube includes several default users that are created during setup:</p><ul><li><code>guest / guestPassword</code> — member of <code>hkube-guests</code></li><li><code>viewer / viewerPassword</code> — member of <code>hkube-viewers</code></li><li><code>developer / developerPassword</code> — member of <code>hkube-developers</code></li></ul><p>These users are part of predefined Keycloak groups that control their access within the system.</p><h3 id="groups">Groups<a class="hash-link" href="#groups">#</a></h3><p>User permissions are assigned via groups:</p><ul><li><strong>hkube-developers</strong> – Full access: delete, edit, view, and execute</li><li><strong>hkube-viewers</strong> – Can view and edit</li><li><strong>hkube-guests</strong> – View-only access</li></ul><blockquote><p>Note: Group membership maps users to specific roles in the <code>api-server</code> client.</p></blockquote><h3 id="roles">Roles<a class="hash-link" href="#roles">#</a></h3><p>Roles define the actual permissions enforced by HKube’s backend. These are client roles defined under the <code>api-server</code> Keycloak client:</p><ul><li><code>hkube_api_delete</code> – Allows deletion of HKube objects</li><li><code>hkube_api_edit</code> – Allows editing of HKube objects</li><li><code>hkube_api_view</code> – Allows viewing of HKube objects</li><li><code>hkube_api_execute</code> – Allows execution of HKube objects</li></ul><hr/><h2 id="administration-ui">Administration UI<a class="hash-link" href="#administration-ui">#</a></h2><h3 id="keycloak-admin-console">Keycloak Admin Console<a class="hash-link" href="#keycloak-admin-console">#</a></h3><p>To manage users, groups, clients, and roles, access the Keycloak Admin Console.</p><ul><li><strong>URL:</strong> <code>https://&lt;your_domain&gt;/hkube/keycloak/</code> - for example with Minikube: <code>https://192.168.49.2/hkube/keycloak/</code></li><li><strong>Username:</strong> <code>admin</code></li><li><strong>Password:</strong> <code>admin</code></li></ul><blockquote><p>These are default credentials and should be changed in production environments to avoid security risks.</p></blockquote><hr/><h2 id="summary-of-permissions-in-hkube">Summary of Permissions in HKube<a class="hash-link" href="#summary-of-permissions-in-hkube">#</a></h2><p>HKube uses Keycloak roles and groups to manage access:</p><table><thead><tr><th>Group</th><th>Permissions</th></tr></thead><thead><tr><td>hkube-developers</td><td>view, edit, delete, execute</td></tr><tr><td>hkube-viewers</td><td>view, edit</td></tr><tr><td>hkube-guests</td><td>view only</td></tr></thead></table><div><p>&nbsp;</p>

</div><table><thead><tr><th>Role</th><th>Description</th></tr></thead><thead><tr><td>hkube_api_view</td><td>Can view pipelines and algorithms</td></tr><tr><td>hkube_api_edit</td><td>Can modify pipelines and algorithms</td></tr><tr><td>hkube_api_delete</td><td>Can delete pipelines and algorithms</td></tr><tr><td>hkube_api_execute</td><td>Can run pipelines</td></tr></thead></table><p>These roles are mapped to users through their group memberships in Keycloak.</p><div><script>
  function copyToClipboard(elementId) {
    const codeBlock = document.getElementById(elementId);
    const button = codeBlock.querySelector('.copy-btn');

    const text = Array.from(codeBlock.childNodes)
      .filter(node => node.nodeType === Node.TEXT_NODE || node.tagName !== 'BUTTON')
      .map(node => node.textContent)
      .join('')
      .trim();

    navigator.clipboard.writeText(text).then(() => {
      const original = button.textContent;
      button.textContent = 'Copied!';
      setTimeout(() => { button.textContent = original; }, 500);
    }).catch((err) => {
      console.error('Copy failed', err);
    });
  }
</script>
</div></div><div><a class="read-next" href="/learn/installCLI/"><span class="read-next-continue">Next →</span><span class="read-next-title">Install HKube CLI</span></a></div></div><div class="nav-docs"><div><h3>Learn</h3><ul><li><a style="margin-left:0;" class="active" href="/learn/debug/">Debug Algorithm</a><ul><li><a href="/learn/debug/#introduction">Introduction</a></li><li><a href="/learn/debug/#use-cases"> Use Cases</a></li><li><a href="/learn/debug/#how-to"> How To</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/pipelines/">Pipelines</a><ul><li><a href="/learn/pipelines/#raw">Raw</a></li><li><a href="/learn/pipelines/#stored"> Stored</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/nodes/">Nodes</a><ul><li><a href="/learn/nodes/#entry-nodes">Entry Nodes</a></li><li><a href="/learn/nodes/#final-nodes"> Final Nodes</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/input/">Input</a><ul><li><a href="/learn/input/#input-types">Input Types</a></li><li><a href="/learn/input/#input-order"> Input Order</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/options/">Options</a><ul><li><a href="/learn/options/#batch-tolerance">Batch Tolerance</a></li><li><a href="/learn/options/#verbosity-level"> Verbosity Level</a></li><li><a href="/learn/options/#pipeline-concurrency"> Pipeline Concurrency</a></li><li><a href="/learn/options/#ttl"> TTL</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/execution/">Pipeline Execution</a><ul><li><a href="/learn/execution/#flow-input">Flow Input</a></li><li><a href="/learn/execution/#reference"> Reference</a></li><li><a href="/learn/execution/#batch"> Batch</a></li><li><a href="/learn/execution/#batch-reference"> Batch Reference</a></li><li><a href="/learn/execution/#wait-any"> Wait Any</a></li><li><a href="/learn/execution/#output"> Output</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/advancedPipeline/">Advanced Pipeline Descriptor</a><ul><li><a href="/learn/advancedPipeline/#advance-options">Advance Options</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/triggers/">Triggers</a><ul><li><a href="/learn/triggers/#cron">Cron</a></li><li><a href="/learn/triggers/#pipelines"> Pipelines</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/webhooks/">Webhooks</a><ul><li><a href="/learn/webhooks/#progress">Progress</a></li><li><a href="/learn/webhooks/#result"> Result</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/caching/">Caching / Run Node</a><ul><li><a href="/learn/caching/#introduction">Introduction</a></li><li><a href="/learn/caching/#use-cases"> Use Cases</a></li><li><a href="/learn/caching/#how-to-activate-cache"> How to activate cache</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/codeapi/">Code API</a><ul><li><a href="/learn/codeapi/#introduction">Introduction</a></li><li><a href="/learn/codeapi/#python"> Python</a></li><li><a href="/learn/codeapi/#java"> Java</a></li><li><a href="/learn/codeapi/#node-js"> Node.js</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/versions/">Versions</a><ul><li><a href="/learn/versions/#algorithms">Algorithms</a></li><li><a href="/learn/versions/#pipelines"> Pipelines</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/tensorboard/">Tensorboard Integration</a><ul><li><a href="/learn/tensorboard/#introduction">Introduction</a></li><li><a href="/learn/tensorboard/#config"> Config</a></li></ul></li></ul></div></div></div></section><footer><section class="sitemap"><div class="sitemap-group"><h5><a href="/learn/">Learn</a></h5><a href="/learn/">Introduction</a><a href="/learn/pipelines/">Pipeline</a><a href="/learn/nodes/">Nodes</a><a href="/learn/input/">Input</a><a href="/learn/execution/">Execution</a><a href="/learn/webhooks/">Webhooks</a></div><div class="sitemap-group"><h5><a href="/tech/dashboard/">Dashboard</a></h5><a href="/tech/dashboard/#overview">Overview</a><a href="/tech/dashboard/#tables">Tables</a><a href="/tech/dashboard/#operations">Operations</a></div><div class="sitemap-group"><h5><a href="/media/">Media</a></h5><a href="/media/#jane/">Meet Jane</a><a href="/media/#distributed/">Distributed pipeline</a><a href="/media/#hpc/">HPC over Kubernetes</a><a href="/media/#architecture/">Hkube Architecture</a></div><div class="sitemap-group"><h5><a href="/learn/algorithms/">Algorithms</a></h5><a href="/learn/algorithms/">Introduction</a><a href="/learn/algorithms/#api/">API</a><a href="/learn/algorithms/#implement/">Implement</a><a href="/learn/algorithms/#build/">Build</a><a href="/learn/algorithms/#publish/">Publish</a></div></section><section class="copyright">Copyright ©<span><script>document.write(new Date().getFullYear())</script> </span><noscript>2018</noscript>Hkube. MIT</section></footer><script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript" src="/vendor/scroller.js"></script><script>
        docsearch({
          appId: 'BQD9PBVIWN',
          apiKey: '1866dee8e47cc3f926114008ed8f7756',
          indexName: 'hkube',
          inputSelector: '#algolia-search-input',
          debug: false
        });
      </script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-118778729-1"></script><script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-118778729-1');
      </script></body></html>