<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><title>Debug Algorithm | Hkube</title><meta name="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Hkube: HPC over Kubernetes."/><meta property="og:description" content="Hkube - HPC over Kubernetes, cloud native open source framework to run distributed pipeline of algorithms"/><meta property="og:type" content="website"/><meta property="og:url" content="http://hkube.org/"/><meta property="og:image" content="/img/home/og_image.png"/><meta property="og:image:type" content="image/png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@hkube"/><meta name="twitter:title" content="Hkube: HPC over Kubernetes"/><meta name="twitter:description" content="Hkube HPC over Kubernetes"/><meta name="twitter:image" content="/img/home/twitter_image.png"/><link rel="shortcut icon" href="/img/home/favicon.png"/><link rel="home" type="application/rss+xml" href="/blog/rss.xml" title="Hkube Team Blog"/><link rel="stylesheet" href="/style.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300|Roboto:300"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,400i,600"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/></head><body><header class="nav-header "><section class="nav-section"><input type="checkbox" id="toggle-menu-checkbox" checked=""/><label id="toggle-menu" for="toggle-menu-checkbox" class=""><span id="toggle-menu-icon"></span></label><a class="nav-home" href="/"><img class="nav-logo" src="/img/home/top-logo.svg"/></a><nav id="nav-links"><a href="/learn/">Get Started</a><a href="/tech/">Tech</a><a href="/media/">Media</a><a href="/blog/">Blog</a><a href="https://playground.hkube.org/" target="_blank" rel="noopener noreferrer">Playground</a><a href="https://github.com/kube-HPC" target="_blank" rel="noopener noreferrer">GitHub</a><a href="/spec/" target="_blank">Spec</a></nav><div class="algolia-search-wrapper"><input type="text" id="algolia-search-input" placeholder="Search docs..."/></div></section></header><section class="column"><div class="documentationContent"><div class="inner-content"><h1>Debug Algorithm</h1><div><h2 id="introduction">Introduction<a class="hash-link" href="#introduction">#</a></h2><p>HKube enable debugging algorithm on your local IDE as part of a pipeline executed on the cluster</p><h2 id="use-cases">Use Cases<a class="hash-link" href="#use-cases">#</a></h2><p> After executing the following job you suspect that the &quot;yellow&quot; node does not calculate its output properly and you wish to debug it in your local IDE  </p><p><img src="https://images.zenhubusercontent.com/5ddb91c470bd590001fbdfae/0df5c0ec-5325-49b7-9298-f46f1d83757f" alt="simpleDebug.png"/></p><h2 id="how-to">How To<a class="hash-link" href="#how-to">#</a></h2><p><strong>HKUBE has four options for debug algorithm:</strong> </p><ul><li><strong>Debug  Pipeline</strong> - execute the pipeline from start <ul><li>In the pipeline descriptor change the node type from &quot;algorithm&quot; to &quot;debug&quot;</li></ul></li><li><strong>Debug from cache</strong> , debug  specific node and while getting the data of the predecessors from caching of the previous run <ul><li>In the dashboard open the relevant job select the algorithm you wish to debug click the<img src="https://images.zenhubusercontent.com/5ddb91c470bd590001fbdfae/883feb2f-6255-4a0a-ba3a-055ae315c1a9" alt="debug-icon.png"/> icon</li></ul></li><li><strong>Debug algorithm</strong> (without pipeline)<ul><li>Select the algorithm from the algorithm list and click the<img src="https://images.zenhubusercontent.com/5ddb91c470bd590001fbdfae/883feb2f-6255-4a0a-ba3a-055ae315c1a9" alt="debug-icon.png"/>  icon</li></ul></li><li><strong>Debug Override</strong>  - execute the pipeline from start<ul><li>Run the pipeline </li><li>To the options object add &quot;debugOverride&quot;</li><li>The value is an array with the nodes name you wish to debug i.e. &quot;debugOverride&quot;:[&quot;yellow&quot;]</li></ul></li></ul><p><strong>Obtaining the debugging URL</strong></p><p>TBD</p><h2 id="on-your-ide">On your IDE<a class="hash-link" href="#on-your-ide">#</a></h2><p>In order to debug your algorithm locally, install the &quot;HKUBE wrapper&quot; package </p><ul><li><strong>Python:</strong> pip install hkube-python-wrapper</li><li><strong>nodeJS:</strong> npm i @hkube/nodejs-wrapper</li></ul><p>After installing the &quot;HKUBE wrapper&quot; package
add the following code to your project and start debugging :</p><h3 id="python">Python:<a class="hash-link" href="#python">#</a></h3><pre class="prism language-python"><span class="keyword">from</span> hkube_python_wrapper <span class="keyword">import</span> Algorunner
<span class="keyword">import</span> algorithm<span class="punctuation">.</span>main <span class="keyword">as</span> algorithm <span spellcheck="true" class="comment">#the path of you &quot;start&quot; function</span>

<span class="keyword">def</span> <span class="function">main</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">:</span>
        <span class="keyword">print</span><span class="punctuation">(</span><span class="string">&quot;starting algorithm runner&quot;</span><span class="punctuation">)</span>
        Algorunner<span class="punctuation">.</span>Debug<span class="punctuation">(</span><span class="string">&quot;&lt;the debugging URL&gt;&quot;</span><span class="punctuation">,</span>algorithm<span class="punctuation">.</span>start<span class="punctuation">)</span>

<span class="keyword">if</span> __name__ <span class="operator">==</span> <span class="string">&quot;__main__&quot;</span><span class="punctuation">:</span>
    main<span class="punctuation">(</span><span class="punctuation">)</span></pre><h3 id="nodejs">NodeJS<a class="hash-link" href="#nodejs">#</a></h3><pre class="prism language-javascript"><span class="keyword">const</span> NodejsWrapper <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;@hkube/nodejs-wrapper&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> alg <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&quot;./hkubeApiImage&quot;</span><span class="punctuation">)</span> <span spellcheck="true" class="comment">//the path of you &quot;start&quot; function</span>
<span class="keyword">const</span> main <span class="operator">=</span> <span class="keyword">async</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=</span><span class="operator">&gt;</span> <span class="punctuation">{</span>
    NodejsWrapper<span class="punctuation">.</span><span class="function">debug</span><span class="punctuation">(</span><span class="string">&quot;&lt;the debugging URL&gt;&quot;</span><span class="punctuation">,</span>alg<span class="punctuation">)</span>
<span class="punctuation">}</span>

<span class="function">main</span><span class="punctuation">(</span><span class="punctuation">)</span></pre><h3 id="java">Java<a class="hash-link" href="#java">#</a></h3><p><strong>Setup a  run debug java configuration</strong></p><p><img src="https://images.zenhubusercontent.com/5cd15ae29569e0651a18b5ba/eac146a1-73ec-4e13-8ccd-f9d630985c9c" alt="run configuraion.jpg"/></p><ul><li><strong>Main class</strong><ul><li>Java main class is hkube.algo.wrapper.Main from artifact <code>io.hkube:wrapper:2.0-SNAPSHOT</code> (also found in <a href="https://oss.sonatype.org/content/repositories/snapshots">https://oss.sonatype.org/content/repositories/snapshots</a>)</li></ul></li><li><strong>Runtime ClassPath</strong><ul><li><code>io.hkube:wrapper:2.0-SNAPSHOT</code> and its dependencies.</li><li>The written algorithm module.
<img src="https://images.zenhubusercontent.com/5ddb91c470bd590001fbdfae/6d8a53c3-5165-4437-91a6-52d38b2a7c70" alt="image.png"/>
When running the algorithm locally you need to set 2 environment variables:</li></ul></li></ul><table><thead><tr><th>Name</th><th>Description</th></tr></thead><thead><tr><td>ALGORITHM_ENTRY_POINT</td><td>The name of the class you wrote implementing IAlgorithm.</td></tr><tr><td>WORKER_SOCKET_URL</td><td>path obtained from a the debug algorithm defined on hkube deployment. e.g. <code>ws://playground.hkube.org/hkube/debug/something</code></td></tr></thead></table><p>Instead of setting these environment variables, you can also add a config.properties file to the running classpath root directory and set these environment variable names as keys.</p><pre class="prism language-undefined">            WORKER_SOCKET_URL<span class="operator">=</span>ws<span class="punctuation">:</span><span class="operator">/</span><span class="operator">/</span>playground<span class="punctuation">.</span>hkube<span class="punctuation">.</span>org<span class="operator">/</span>hkube<span class="operator">/</span>debug<span class="operator">/</span>something
            ALGORITHM_ENTRY_POINT<span class="operator">=</span>Algorithm</pre><ul><li><strong>Program argument &#x27;debug&#x27;</strong></li></ul><p>To avoid the program attempting to load the algorithm from a jar, &#x27;debug&#x27; should be given as a program argument.</p></div><div><a class="read-next" href="/learn/pipelines/"><span class="read-next-continue">Next →</span><span class="read-next-title">Pipelines</span></a></div></div><div class="nav-docs"><div><h3>Learn</h3><ul><li><a style="margin-left:0;" class="active" href="/learn/">HKube 101</a><ul><li><a href="/learn/#features">Features</a></li><li><a href="/learn/#getting-started"> Getting started</a></li><li><a href="/learn/#let-s-talk-about-hkube"> Let&#x27;s talk about HKUBE</a></li><li><a href="/learn/#implementing-the-algorithms"> Implementing the Algorithms</a></li><li><a href="/learn/#step-by-step-cli-example">  Step-by-step CLI Example</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/install/">Install HKube</a><ul><li><a href="/learn/install/#prerequisites">Prerequisites</a></li><li><a href="/learn/install/#minikube-installation"> Minikube Installation</a></li><li><a href="/learn/install/#production-deployment"> Production Deployment</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/api/">API</a><ul><li><a href="/learn/api/#restful">Restful</a></li><li><a href="/learn/api/#cli"> Cli</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/installCLI/">Install HKube CLI</a><ul><li><a href="/learn/installCLI/#overview">Overview</a></li><li><a href="/learn/installCLI/#setup"> Setup</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/algorithms/">Algorithms</a><ul><li><a href="/learn/algorithms/#integration-methods">Integration Methods</a></li><li><a href="/learn/algorithms/#events-communication"> Events &amp; Communication</a></li><li><a href="/learn/algorithms/#implementation"> Implementation</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/streaming/">Streaming</a><ul><li><a href="/learn/streaming/#introduction">Introduction</a></li><li><a href="/learn/streaming/#features"> Features</a></li><li><a href="/learn/streaming/#advanced"> Advanced</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/sidecars/">Sidecars</a><ul><li><a href="/learn/sidecars/#container-configuration">Container Configuration</a></li><li><a href="/learn/sidecars/#volumes-usage"> Volumes Usage</a></li><li><a href="/learn/sidecars/#environment-variables"> Environment Variables</a></li><li><a href="/learn/sidecars/#common-errors"> Common Errors</a></li><li><a href="/learn/sidecars/#multiple-sidecars"> Multiple Sidecars</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/kai/">KAI Integration</a><ul><li><a href="/learn/kai/#configuration">Configuration</a></li><li><a href="/learn/kai/#example"> Example</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/debug/">Debug Algorithm</a><ul><li><a href="/learn/debug/#introduction">Introduction</a></li><li><a href="/learn/debug/#use-cases"> Use Cases</a></li><li><a href="/learn/debug/#how-to"> How To</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/pipelines/">Pipelines</a><ul><li><a href="/learn/pipelines/#raw">Raw</a></li><li><a href="/learn/pipelines/#stored"> Stored</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/nodes/">Nodes</a><ul><li><a href="/learn/nodes/#entry-nodes">Entry Nodes</a></li><li><a href="/learn/nodes/#final-nodes"> Final Nodes</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/input/">Input</a><ul><li><a href="/learn/input/#input-types">Input Types</a></li><li><a href="/learn/input/#input-order"> Input Order</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/options/">Options</a><ul><li><a href="/learn/options/#batch-tolerance">Batch Tolerance</a></li><li><a href="/learn/options/#verbosity-level"> Verbosity Level</a></li><li><a href="/learn/options/#pipeline-concurrency"> Pipeline Concurrency</a></li><li><a href="/learn/options/#ttl"> TTL</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/execution/">Pipeline Execution</a><ul><li><a href="/learn/execution/#flow-input">Flow Input</a></li><li><a href="/learn/execution/#reference"> Reference</a></li><li><a href="/learn/execution/#batch"> Batch</a></li><li><a href="/learn/execution/#batch-reference"> Batch Reference</a></li><li><a href="/learn/execution/#wait-any"> Wait Any</a></li><li><a href="/learn/execution/#output"> Output</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/advancedPipeline/">Advanced Pipeline Descriptor</a><ul><li><a href="/learn/advancedPipeline/#advance-options">Advance Options</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/triggers/">Triggers</a><ul><li><a href="/learn/triggers/#cron">Cron</a></li><li><a href="/learn/triggers/#pipelines"> Pipelines</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/webhooks/">Webhooks</a><ul><li><a href="/learn/webhooks/#progress">Progress</a></li><li><a href="/learn/webhooks/#result"> Result</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/caching/">Caching / Run Node</a><ul><li><a href="/learn/caching/#introduction">Introduction</a></li><li><a href="/learn/caching/#use-cases"> Use Cases</a></li><li><a href="/learn/caching/#how-to-activate-cache"> How to activate cache</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/codeapi/">Code API</a><ul><li><a href="/learn/codeapi/#introduction">Introduction</a></li><li><a href="/learn/codeapi/#python"> Python</a></li><li><a href="/learn/codeapi/#java"> Java</a></li><li><a href="/learn/codeapi/#node-js"> Node.js</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/versions/">Versions</a><ul><li><a href="/learn/versions/#algorithms">Algorithms</a></li><li><a href="/learn/versions/#pipelines"> Pipelines</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/tensorboard/">Tensorboard Integration</a><ul><li><a href="/learn/tensorboard/#introduction">Introduction</a></li><li><a href="/learn/tensorboard/#config"> Config</a></li></ul></li></ul></div></div></div></section><footer><section class="sitemap"><div class="sitemap-group"><h5><a href="/learn/">Learn</a></h5><a href="/learn/">Introduction</a><a href="/learn/pipelines/">Pipeline</a><a href="/learn/nodes/">Nodes</a><a href="/learn/input/">Input</a><a href="/learn/execution/">Execution</a><a href="/learn/webhooks/">Webhooks</a></div><div class="sitemap-group"><h5><a href="/tech/dashboard/">Dashboard</a></h5><a href="/tech/dashboard/#overview">Overview</a><a href="/tech/dashboard/#tables">Tables</a><a href="/tech/dashboard/#operations">Operations</a></div><div class="sitemap-group"><h5><a href="/media/">Media</a></h5><a href="/media/#jane/">Meet Jane</a><a href="/media/#distributed/">Distributed pipeline</a><a href="/media/#hpc/">HPC over Kubernetes</a><a href="/media/#architecture/">Hkube Architecture</a></div><div class="sitemap-group"><h5><a href="/learn/algorithms/">Algorithms</a></h5><a href="/learn/algorithms/">Introduction</a><a href="/learn/algorithms/#api/">API</a><a href="/learn/algorithms/#implement/">Implement</a><a href="/learn/algorithms/#build/">Build</a><a href="/learn/algorithms/#publish/">Publish</a></div></section><section class="copyright">Copyright ©<span><script>document.write(new Date().getFullYear())</script> </span><noscript>2018</noscript>Hkube. MIT</section></footer><script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript" src="/vendor/scroller.js"></script><script>
        docsearch({
          appId: 'BQD9PBVIWN',
          apiKey: '1866dee8e47cc3f926114008ed8f7756',
          indexName: 'hkube',
          inputSelector: '#algolia-search-input',
          debug: false
        });
      </script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-118778729-1"></script><script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-118778729-1');
      </script></body></html>