<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><title>Install HKube | Hkube</title><meta name="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Hkube: HPC over Kubernetes."/><meta property="og:description" content="Hkube - HPC over Kubernetes, cloud native open source framework to run distributed pipeline of algorithms"/><meta property="og:type" content="website"/><meta property="og:url" content="http://hkube.org/"/><meta property="og:image" content="/img/home/og_image.png"/><meta property="og:image:type" content="image/png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@hkube"/><meta name="twitter:title" content="Hkube: HPC over Kubernetes"/><meta name="twitter:description" content="Hkube HPC over Kubernetes"/><meta name="twitter:image" content="/img/home/twitter_image.png"/><link rel="shortcut icon" href="/img/home/favicon.png"/><link rel="home" type="application/rss+xml" href="/blog/rss.xml" title="Hkube Team Blog"/><link rel="stylesheet" href="/style.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300|Roboto:300"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,400i,600"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/></head><body><header class="nav-header "><section class="nav-section"><input type="checkbox" id="toggle-menu-checkbox" checked=""/><label id="toggle-menu" for="toggle-menu-checkbox" class=""><span id="toggle-menu-icon"></span></label><a class="nav-home" href="/"><img class="nav-logo" src="/img/home/top-logo.svg"/></a><nav id="nav-links"><a href="/learn/">Get Started</a><a href="/tech/">Tech</a><a href="/media/">Media</a><a href="/blog/">Blog</a><a href="https://playground.hkube.org/" target="_blank" rel="noopener noreferrer">Playground</a><a href="https://github.com/kube-HPC" target="_blank" rel="noopener noreferrer">GitHub</a><a href="/spec/" target="_blank">Spec</a></nav><div class="algolia-search-wrapper"><input type="text" id="algolia-search-input" placeholder="Search docs..."/></div></section></header><section class="column"><div class="documentationContent"><div class="inner-content"><h1>Install HKube</h1><div><h2 id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites">#</a></h2><hr/><ul><li>HKube requires a working Kubernetes cluster.</li><li>You can use local Kubernetes like <a href="https://kubernetes.io/docs/tasks/tools/install-minikube/" target="_blank" rel="nofollow noopener noreferrer">Minikube</a> or <a href="https://microk8s.io/" target="_blank" rel="nofollow noopener noreferrer">microk8s</a>.</li><li>HKube is installed using Helm. Both Helm 2 and the newer <a href="https://helm.sh/docs/intro/install/" target="_blank" rel="nofollow noopener noreferrer">Helm 3</a> should work.</li><li><code>kubectl</code> must be configured to your Kubernetes cluster.</li><li>HKube needs certain pods to run with privileged permissions for logs and builds; consult your Kubernetes docs on how to enable that.</li></ul><blockquote><p>These instructions assume the use <a href="https://kubernetes.io/docs/tasks/tools/install-minikube/" target="_blank" rel="nofollow noopener noreferrer">Minikube</a> and <a href="https://helm.sh/docs/intro/install/" target="_blank" rel="nofollow noopener noreferrer">Helm 3</a><br/>Click <a href="../../learn/install/openshift/" target="_blank" rel="nofollow noopener noreferrer">here</a> for Openshift instructions</p></blockquote><hr/><h2 id="minikube-installation">Minikube Installation<a class="hash-link" href="#minikube-installation">#</a></h2><h3 id="1-helm-repository-setup">1. Helm repository setup<a class="hash-link" href="#1-helm-repository-setup">#</a></h3><p>The chart is hosted in <a href="http://hkube.org/helm/">http://hkube.org/helm/</a>
To add the HKube Helm repo to your helm run:</p><div><pre class="bash" id="helmRepo">
helm repo add hkube http://hkube.org/helm/
helm repo update <button class="copy-btn" onclick="copyToClipboard('helmRepo')">Copy</button>
</pre>


</div><h3 id="2-set-docker-context">2. Set Docker Context<a class="hash-link" href="#2-set-docker-context">#</a></h3><p>Make sure your Docker CLI is using the default context:</p><div><pre class="bash" id="dockerContext">
docker context use default <button class="copy-btn" onclick="copyToClipboard('dockerContext')">Copy</button>
</pre>


</div><p>This will be your output:</p><pre class="prism language-console"><span class="keyword">default</span>
Current context is now <span class="string">&quot;default&quot;</span></pre><h3 id="3-start-minikube">3. Start Minikube<a class="hash-link" href="#3-start-minikube">#</a></h3><p>Currently HKube requires at least 4 cpu cores and 6GB of memory, ingress controller, registry, and dynamic storage.  </p><p>HKube was tested on Kubernetes v1.33.4, so to run it properly, start Minikube with:</p><div id="r101"><div style="position:relative;" data-reactroot="" data-reactid="1" data-react-checksum="2106023924"><div class="RRT__container" data-reactid="2"><div class="RRT__tabs" data-reactid="3"><div role="tab" class="RRT__tab tab RRT__tab--first RRT__tab--selected" id="tab-0" aria-selected="true" aria-expanded="true" aria-disabled="false" aria-controls="panel-0" tabindex="0" data-reactid="4">Linux</div><div role="tab" class="RRT__tab tab" id="tab-1" aria-selected="false" aria-expanded="false" aria-disabled="false" aria-controls="panel-1" tabindex="0" data-reactid="5">Windows</div><div role="tab" class="RRT__tab tab" id="tab-2" aria-selected="false" aria-expanded="false" aria-disabled="false" aria-controls="panel-2" tabindex="0" data-reactid="6">MacOS</div><!-- react-empty: 7 --></div><div class="RRT__inkbar-wrapper" data-reactid="8"><div class="RRT__inkbar" style="left:0;width:0;" data-reactid="9"></div></div><div class="RRT__panel panel" role="tabpanel" id="panel-0" aria-labelledby="tab-0" aria-hidden="false" data-reactid="10"><pre class="prism language-bash" data-reactid="11"><!-- react-text: 12 -->minikube start <!-- /react-text --><span class="operator" data-reactid="13">--</span><!-- react-text: 14 -->driver<!-- /react-text --><span class="operator" data-reactid="15">=</span><!-- react-text: 16 -->docker \
  <!-- /react-text --><span class="operator" data-reactid="17">--</span><!-- react-text: 18 -->addons ingress \
  <!-- /react-text --><span class="operator" data-reactid="19">--</span><!-- react-text: 20 -->addons registry \
  <!-- /react-text --><span class="operator" data-reactid="21">--</span><!-- react-text: 22 -->addons registry<!-- /react-text --><span class="operator" data-reactid="23">-</span><!-- react-text: 24 -->aliases \
  <!-- /react-text --><span class="operator" data-reactid="25">--</span><!-- react-text: 26 -->addons storage<!-- /react-text --><span class="operator" data-reactid="27">-</span><!-- react-text: 28 -->provisioner \
  <!-- /react-text --><span class="operator" data-reactid="29">--</span><!-- react-text: 30 -->kubernetes<!-- /react-text --><span class="operator" data-reactid="31">-</span><!-- react-text: 32 -->version<!-- /react-text --><span class="operator" data-reactid="33">=</span><!-- react-text: 34 -->v1<!-- /react-text --><span class="number" data-reactid="35">.33</span><span class="punctuation" data-reactid="36">.</span><span class="number" data-reactid="37">4</span></pre></div><div style="position:absolute;width:0;height:0;visibility:hidden;display:none;" data-reactid="38"></div></div><button class="copy-btn" style="top:62px;" aria-label="Copy code" data-reactid="39">Copy</button></div></div><h3 id="4-wait-for-all-pods">4. Wait for All Pods<a class="hash-link" href="#4-wait-for-all-pods">#</a></h3><p>Make sure all pods are ready before you continue:</p><div><pre class="bash" id="getPods">
kubectl get pods -A <button class="copy-btn" onclick="copyToClipboard('getPods')">Copy</button>
</pre>


</div><h3 id="5-install-hkube">5. Install HKube<a class="hash-link" href="#5-install-hkube">#</a></h3><p>Install the HKube chart using Helm:</p><div><pre class="bash" id="installHKube">
helm upgrade -i hkube hkube/hkube \
  --set build_secret.docker_registry=registry.minikube \
  --set build_secret.docker_registry_insecure=true \
  --set global.hkube_url=https://192.168.49.2/hkube \
  --set global.ingress.use_regex=true \
  --timeout 15m <button class="copy-btn" onclick="copyToClipboard('installHKube')">Copy</button>
</pre>

</div><blockquote><div><div style="font-size: 0.8em"> Note: the IP `192.168.49.2` is taken out of the command `minikube ip`.  
Verify it's your minikube IP. </div>

</div></blockquote><p>This command installs <code>hkube</code> in a minimal configuration for development. See below for production install.<br/>Be patient. This can take some time depending on your internet connection.</p><h3 id="6-verify-hkube-deployment">6. Verify HKube Deployment<a class="hash-link" href="#6-verify-hkube-deployment">#</a></h3><p>Before starting your journey, verify that the required components have fully rolled out:</p><div><pre class="bash" id="rolloutSimulator">
kubectl rollout status deployment/simulator --watch
kubectl rollout status deployment/api-server --watch <button class="copy-btn" onclick="copyToClipboard('rolloutSimulator')">Copy</button>
</pre>

</div><h3 id="7-access-hkube-dashboard">7. Access HKube Dashboard<a class="hash-link" href="#7-access-hkube-dashboard">#</a></h3><p>Once the components have been successfully rolled out, get the Minikube IP:</p><div><pre class="bash" id="minikubeIp">
minikube ip <button class="copy-btn" onclick="copyToClipboard('minikubeIp')">Copy</button>
</pre>

</div><p>Finally, open your browser and access the dashboard at:</p><pre class="prism language-perl">https<span class="punctuation">:</span><span class="operator">/</span><span class="operator">/</span><span class="operator">&lt;</span>minikube_ip_here<span class="operator">&gt;</span><span class="operator">/</span>hkube<span class="regex">/dashboard/</span></pre><h3 id="uninstalling-hkube">Uninstalling HKube<a class="hash-link" href="#uninstalling-hkube">#</a></h3><p>To remove the HKube release from your cluster:</p><div><pre class="bash" id="uninstallHKube">
helm delete hkube <button class="copy-btn" onclick="copyToClipboard('uninstallHKube')">Copy</button>
</pre>


</div><h3 id="configuration-details">Configuration Details<a class="hash-link" href="#configuration-details">#</a></h3><p>The default HKube installation is meant for local development.
It includes:</p><ul><li><code>etcd</code> for storing internal state</li><li><code>redis</code> for queues and messaging</li><li><code>minio</code> as an object storage</li><li>Small configuration for <code>HKube</code>  </li></ul><hr/><h2 id="production-deployment">Production Deployment<a class="hash-link" href="#production-deployment">#</a></h2><h3 id="general">General<a class="hash-link" href="#general">#</a></h3><ol><li>for HA installation, a HA kubernetes cluster is needed.  </li><li>HKube uses needs persistent storage. The default installation uses minio hosted in the cluster. For production installations it is recommended to create a dedicated s3 server, or use a PVC.</li><li>to enable running multiple pipelines set the number of pipeline driver to a higher number (the default is 1)</li></ol><h3 id="configuration">Configuration<a class="hash-link" href="#configuration">#</a></h3><p>Common configuration options are described below. For a complete list see the helm chart Readme</p><table><thead><tr><th>Parameter</th><th>Description</th><th>Default</th></tr></thead><thead><tr><td>global.clusterName</td><td>The dns domain name of the cluster. needed for Jaeger</td><td><code>cluster.local</code></td></tr><tr><td>global.registry</td><td>Docker registry for private registries</td><td><code>&#x27;&#x27;</code></td></tr><tr><td>global.registry_namespace</td><td></td><td><code>hkube</code></td></tr><tr><td>global.registry_username</td><td></td><td><code>&#x27;&#x27;</code></td></tr><tr><td>global.registry_password</td><td></td><td><code>&#x27;&#x27;</code></td></tr><tr><td>global.registry_insecure</td><td></td><td><code>false</code></td></tr><tr><td>global.registry_skip_tls_verify</td><td></td><td><code>false</code></td></tr><tr><td>global.storage.fs.pvc.storage_class</td><td>Dynamic storage storageClassName. Empty for default. <code>&#x27;-&#x27;</code> to disable</td><td><code>&#x27;&#x27;</code></td></tr><tr><td>global.storage.s3.access_key</td><td>access key for s3</td><td><code>hkubeminiokey</code></td></tr><tr><td>global.storage.s3.secret_key</td><td>secret key for s3</td><td><code>hkubeminiosecret</code></td></tr><tr><td>global.storage.s3.url</td><td>endpoint url for s3</td><td><code>&#x27;http://hkube-minio:9000&#x27;</code></td></tr><tr><td>env.default_storage</td><td>selects the storage mode [<code>s3</code> or <code>fs</code>]</td><td><code>s3</code></td></tr><tr><td>jaeger.enable</td><td>enable install of jaeger and dependencies</td><td><code>false</code></td></tr><tr><td>minio.enable</td><td></td><td><code>true</code></td></tr><tr><td>build_secret.docker_registry</td><td>Docker registry information for automated builds</td><td><code>&#x27;&#x27;</code></td></tr><tr><td>build_secret.docker_namespace</td><td></td><td><code>&#x27;&#x27;</code></td></tr><tr><td>build_secret.docker_username</td><td></td><td><code>&#x27;&#x27;</code></td></tr><tr><td>build_secret.docker_password</td><td></td><td><code>&#x27;&#x27;</code></td></tr><tr><td>task_executor.env.pipeline_drivers_amount</td><td>Set to 30 for a reasonable size</td><td><code>1</code></td></tr></thead></table><p>Specify each parameter using the <code>--set key=value[,key=value]</code> argument to <code>helm install</code>. For example:</p><pre class="prism language-console">helm install hkube hkube<span class="operator">/</span>hkube  <span class="operator">--</span><span class="keyword">set</span> global<span class="punctuation">.</span>clusterName<span class="operator">=</span>cluster<span class="punctuation">.</span>local</pre><p>Alternatively, a YAML file that specifies the values for the parameters can be provided while
installing the chart. For example:</p><pre class="prism language-console">helm install hkube hkube<span class="operator">/</span>hkube  <span class="operator">--</span>values values<span class="punctuation">.</span>yaml</pre><div><!-- ```hkube-box
# { "hkube": true, "url": "/learn", "title": "next &rarr;", "text": "Learn More" }
``` -->


</div><div><script>
  function copyToClipboard(elementId) {
    const codeBlock = document.getElementById(elementId);
    const button = codeBlock.querySelector('.copy-btn');

    const text = Array.from(codeBlock.childNodes)
      .filter(node => node.nodeType === Node.TEXT_NODE || node.tagName !== 'BUTTON')
      .map(node => node.textContent)
      .join('')
      .trim();

    navigator.clipboard.writeText(text).then(() => {
      const original = button.textContent;
      button.textContent = 'Copied!';
      setTimeout(() => { button.textContent = original; }, 500);
    }).catch((err) => {
      console.error('Copy failed', err);
    });
  }
</script>

</div></div><div><a class="read-next" href="/learn/api/"><span class="read-next-continue">Next →</span><span class="read-next-title">API</span></a></div></div><div class="nav-docs"><div><h3>Learn</h3><ul><li><a style="margin-left:0;" class="active" href="/learn/debug/">Debug Algorithm</a><ul><li><a href="/learn/debug/#introduction">Introduction</a></li><li><a href="/learn/debug/#use-cases"> Use Cases</a></li><li><a href="/learn/debug/#how-to"> How To</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/pipelines/">Pipelines</a><ul><li><a href="/learn/pipelines/#raw">Raw</a></li><li><a href="/learn/pipelines/#stored"> Stored</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/nodes/">Nodes</a><ul><li><a href="/learn/nodes/#entry-nodes">Entry Nodes</a></li><li><a href="/learn/nodes/#final-nodes"> Final Nodes</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/input/">Input</a><ul><li><a href="/learn/input/#input-types">Input Types</a></li><li><a href="/learn/input/#input-order"> Input Order</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/options/">Options</a><ul><li><a href="/learn/options/#batch-tolerance">Batch Tolerance</a></li><li><a href="/learn/options/#verbosity-level"> Verbosity Level</a></li><li><a href="/learn/options/#pipeline-concurrency"> Pipeline Concurrency</a></li><li><a href="/learn/options/#ttl"> TTL</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/execution/">Pipeline Execution</a><ul><li><a href="/learn/execution/#flow-input">Flow Input</a></li><li><a href="/learn/execution/#reference"> Reference</a></li><li><a href="/learn/execution/#batch"> Batch</a></li><li><a href="/learn/execution/#batch-reference"> Batch Reference</a></li><li><a href="/learn/execution/#wait-any"> Wait Any</a></li><li><a href="/learn/execution/#output"> Output</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/advancedPipeline/">Advanced Pipeline Descriptor</a><ul><li><a href="/learn/advancedPipeline/#advance-options">Advance Options</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/triggers/">Triggers</a><ul><li><a href="/learn/triggers/#cron">Cron</a></li><li><a href="/learn/triggers/#pipelines"> Pipelines</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/webhooks/">Webhooks</a><ul><li><a href="/learn/webhooks/#progress">Progress</a></li><li><a href="/learn/webhooks/#result"> Result</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/caching/">Caching / Run Node</a><ul><li><a href="/learn/caching/#introduction">Introduction</a></li><li><a href="/learn/caching/#use-cases"> Use Cases</a></li><li><a href="/learn/caching/#how-to-activate-cache"> How to activate cache</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/codeapi/">Code API</a><ul><li><a href="/learn/codeapi/#introduction">Introduction</a></li><li><a href="/learn/codeapi/#python"> Python</a></li><li><a href="/learn/codeapi/#java"> Java</a></li><li><a href="/learn/codeapi/#node-js"> Node.js</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/versions/">Versions</a><ul><li><a href="/learn/versions/#algorithms">Algorithms</a></li><li><a href="/learn/versions/#pipelines"> Pipelines</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/tensorboard/">Tensorboard Integration</a><ul><li><a href="/learn/tensorboard/#introduction">Introduction</a></li><li><a href="/learn/tensorboard/#config"> Config</a></li></ul></li></ul></div></div></div></section><footer><section class="sitemap"><div class="sitemap-group"><h5><a href="/learn/">Learn</a></h5><a href="/learn/">Introduction</a><a href="/learn/pipelines/">Pipeline</a><a href="/learn/nodes/">Nodes</a><a href="/learn/input/">Input</a><a href="/learn/execution/">Execution</a><a href="/learn/webhooks/">Webhooks</a></div><div class="sitemap-group"><h5><a href="/tech/dashboard/">Dashboard</a></h5><a href="/tech/dashboard/#overview">Overview</a><a href="/tech/dashboard/#tables">Tables</a><a href="/tech/dashboard/#operations">Operations</a></div><div class="sitemap-group"><h5><a href="/media/">Media</a></h5><a href="/media/#jane/">Meet Jane</a><a href="/media/#distributed/">Distributed pipeline</a><a href="/media/#hpc/">HPC over Kubernetes</a><a href="/media/#architecture/">Hkube Architecture</a></div><div class="sitemap-group"><h5><a href="/learn/algorithms/">Algorithms</a></h5><a href="/learn/algorithms/">Introduction</a><a href="/learn/algorithms/#api/">API</a><a href="/learn/algorithms/#implement/">Implement</a><a href="/learn/algorithms/#build/">Build</a><a href="/learn/algorithms/#publish/">Publish</a></div></section><section class="copyright">Copyright ©<span><script>document.write(new Date().getFullYear())</script> </span><noscript>2018</noscript>Hkube. MIT</section></footer><script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript" src="/vendor/scroller.js"></script><script>
        docsearch({
          appId: 'BQD9PBVIWN',
          apiKey: '1866dee8e47cc3f926114008ed8f7756',
          indexName: 'hkube',
          inputSelector: '#algolia-search-input',
          debug: false
        });
      </script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-118778729-1"></script><script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-118778729-1');
      </script><script src="/vendor/react.min.js"></script><script src="/vendor/react-dom.min.js"></script><script src="index.html.576cba7d540c4af2bb87.js"></script></body></html>