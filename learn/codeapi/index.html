<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><title>Code API | Hkube</title><meta name="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Hkube: HPC over Kubernetes."/><meta property="og:description" content="Hkube - HPC over Kubernetes, cloud native open source framework to run distributed pipeline of algorithms"/><meta property="og:type" content="website"/><meta property="og:url" content="http://hkube.org/"/><meta property="og:image" content="/img/home/og_image.png"/><meta property="og:image:type" content="image/png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@hkube"/><meta name="twitter:title" content="Hkube: HPC over Kubernetes"/><meta name="twitter:description" content="Hkube HPC over Kubernetes"/><meta name="twitter:image" content="/img/home/twitter_image.png"/><link rel="shortcut icon" href="/img/home/favicon.png"/><link rel="home" type="application/rss+xml" href="/blog/rss.xml" title="Hkube Team Blog"/><link rel="stylesheet" href="/style.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300|Roboto:300"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,400i,600"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/></head><body><header class="nav-header "><section class="nav-section"><input type="checkbox" id="toggle-menu-checkbox" checked=""/><label id="toggle-menu" for="toggle-menu-checkbox" class=""><span id="toggle-menu-icon"></span></label><a class="nav-home" href="/"><img class="nav-logo" src="/img/home/top-logo.svg"/></a><nav id="nav-links"><a href="/learn/">Get Started</a><a href="/tech/">Tech</a><a href="/media/">Media</a><a href="/blog/">Blog</a><a href="https://playground.hkube.org/" target="_blank" rel="noopener noreferrer">Playground</a><a href="https://github.com/kube-HPC" target="_blank" rel="noopener noreferrer">GitHub</a><a href="/spec/" target="_blank">Spec</a></nav><div class="algolia-search-wrapper"><input type="text" id="algolia-search-input" placeholder="Search docs..."/></div></section></header><section class="column"><div class="documentationContent"><div class="inner-content"><h1>Code API</h1><div><h1 id="codeapi">CodeAPI<a class="hash-link" href="#codeapi">#</a></h1><h2 id="introduction">Introduction<a class="hash-link" href="#introduction">#</a></h2><p>HKUBE Code API is a set of JAVA/PYTHON/JavaScript API that you can invoke in your algorithm code in order to start sub-pipeline or algorithm  </p><h3 id="python">Python<a class="hash-link" href="#python">#</a></h3><h4 id="start-algorithm">Start algorithm<a class="hash-link" href="#start-algorithm">#</a></h4><p>Starts algorithm execution with input within the current pipeline and <strong>waits for results</strong></p><ul><li>start_algorithm(algorithmName, input=[], includeResult=True)<ul><li>Args<pre class="prism language-undefined"><span class="operator">-</span>  algorithmName <span class="punctuation">(</span>string<span class="punctuation">)</span><span class="punctuation">:</span> The name <span class="keyword">of</span> the algorithm to start<span class="punctuation">.</span>
<span class="operator">-</span>  input <span class="punctuation">(</span>array<span class="punctuation">)</span><span class="punctuation">:</span> Optional input <span class="keyword">for</span> the algorithm<span class="punctuation">.</span>
<span class="operator">-</span>  includeResult <span class="punctuation">(</span>bool<span class="punctuation">)</span><span class="punctuation">:</span> <span class="keyword">if</span> True<span class="punctuation">,</span> returns the result <span class="keyword">of</span> the algorithm execution<span class="punctuation">.</span>
   <span class="operator">-</span>  <span class="keyword">default</span><span class="punctuation">:</span> True</pre></li><li>Returns<pre class="prism language-undefined"><span class="operator">-</span>  Returns the result <span class="keyword">of</span> the algorithm<span class="punctuation">.</span></pre></li></ul></li></ul><h4 id="start-stored-sub-pipeline">Start stored sub pipeline<a class="hash-link" href="#start-stored-sub-pipeline">#</a></h4><p>Starts sub-pipeline execution with input and <strong>waits for results</strong></p><ul><li>start_stored_subpipeline(name, flowInput={}, includeResult=True)<ul><li>Args<pre class="prism language-undefined"><span class="operator">-</span>  name <span class="punctuation">(</span>string<span class="punctuation">)</span><span class="punctuation">:</span> The name <span class="keyword">of</span> the pipeline to start<span class="punctuation">.</span>
<span class="operator">-</span>  flowInput <span class="punctuation">(</span>dict<span class="punctuation">)</span><span class="punctuation">:</span> Optional flowInput <span class="keyword">for</span> the pipeline<span class="punctuation">.</span>
<span class="operator">-</span>  includeResult <span class="punctuation">(</span>bool<span class="punctuation">)</span><span class="punctuation">:</span> <span class="keyword">if</span> True<span class="punctuation">,</span> returns the result <span class="keyword">of</span> the pipeline execution<span class="punctuation">.</span>
   <span class="operator">-</span>  <span class="keyword">default</span><span class="punctuation">:</span> True</pre></li><li>Returns<pre class="prism language-undefined"><span class="operator">-</span>  Returns the result <span class="keyword">of</span> the pipeline<span class="punctuation">.</span></pre></li></ul></li></ul><h4 id="start-raw-sub-pipeline">Start raw sub pipeline<a class="hash-link" href="#start-raw-sub-pipeline">#</a></h4><p>Starts sub-pipeline execution with input, nodes, options, and <strong>waits for results</strong></p><ul><li>start_raw_subpipeline( name, nodes, flowInput, options={}, webhooks={}, includeResult=True)<ul><li>Args<pre class="prism language-undefined"><span class="operator">-</span>  name <span class="punctuation">(</span>string<span class="punctuation">)</span><span class="punctuation">:</span> The name <span class="keyword">of</span> the pipeline to start<span class="punctuation">.</span>
<span class="operator">-</span>  nodes <span class="punctuation">(</span>array<span class="punctuation">)</span><span class="punctuation">:</span> array <span class="keyword">of</span> node definitions <span class="punctuation">(</span>like <span class="keyword">in</span> the pipeline descriptor<span class="punctuation">)</span>
<span class="operator">-</span>  options <span class="punctuation">(</span>dict<span class="punctuation">)</span><span class="punctuation">:</span> pipeline options <span class="punctuation">(</span>like <span class="keyword">in</span> the pipeline descriptor<span class="punctuation">)</span>
<span class="operator">-</span>  webhooks <span class="punctuation">(</span>dict<span class="punctuation">)</span><span class="punctuation">:</span> webhook options <span class="punctuation">(</span>like <span class="keyword">in</span> the pipeline descriptor<span class="punctuation">)</span>
<span class="operator">-</span>  flowInput <span class="punctuation">(</span>dict<span class="punctuation">)</span><span class="punctuation">:</span> Optional flowInput <span class="keyword">for</span> the pipeline<span class="punctuation">.</span>
<span class="operator">-</span>  includeResult <span class="punctuation">(</span>bool<span class="punctuation">)</span><span class="punctuation">:</span> <span class="keyword">if</span> True<span class="punctuation">,</span> returns the result <span class="keyword">of</span> the pipeline execution<span class="punctuation">.</span>
   <span class="operator">-</span>  <span class="keyword">default</span><span class="punctuation">:</span> True</pre></li><li>Returns<pre class="prism language-undefined"><span class="operator">-</span>  Returns the result <span class="keyword">of</span> the pipeline<span class="punctuation">.</span></pre></li></ul></li></ul><h4 id="code-example">Code example<a class="hash-link" href="#code-example">#</a></h4><pre class="prism language-python">    <span class="keyword">def</span> <span class="function">start</span><span class="punctuation">(</span>args<span class="punctuation">,</span> hkubeapi<span class="punctuation">)</span><span class="punctuation">:</span>
        <span class="builtin">input</span> <span class="operator">=</span> args<span class="punctuation">[</span><span class="string">&#x27;input&#x27;</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="number">0</span><span class="punctuation">]</span>
        <span class="keyword">if</span> <span class="builtin">input</span> <span class="operator">and</span> <span class="builtin">input</span><span class="punctuation">[</span><span class="string">&quot;action&quot;</span><span class="punctuation">]</span> <span class="operator">==</span> <span class="string">&quot;start_alg&quot;</span><span class="punctuation">:</span>
            ret <span class="operator">=</span> hkubeapi<span class="punctuation">.</span>start_algorithm<span class="punctuation">(</span><span class="string">&quot;black-alg&quot;</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">7</span><span class="punctuation">]</span><span class="punctuation">,</span> includeResult<span class="operator">=</span><span class="boolean">True</span><span class="punctuation">)</span>
            <span class="keyword">return</span> ret

        <span class="keyword">if</span> <span class="builtin">input</span> <span class="operator">and</span> <span class="builtin">input</span><span class="punctuation">[</span><span class="string">&quot;action&quot;</span><span class="punctuation">]</span> <span class="operator">==</span> <span class="string">&quot;start_stored_subpipeline&quot;</span><span class="punctuation">:</span>
            ret <span class="operator">=</span> hkubeapi<span class="punctuation">.</span>start_stored_subpipeline<span class="punctuation">(</span><span class="string">&quot;simple&quot;</span><span class="punctuation">,</span> <span class="punctuation">{</span><span class="string">&quot;files&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span><span class="string">&quot;link&quot;</span><span class="punctuation">:</span> <span class="string">&quot;links-1&quot;</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">,</span> includeResult<span class="operator">=</span><span class="boolean">True</span><span class="punctuation">)</span>
            <span class="keyword">return</span> ret

        <span class="keyword">if</span> <span class="builtin">input</span> <span class="operator">and</span> <span class="builtin">input</span><span class="punctuation">[</span><span class="string">&quot;action&quot;</span><span class="punctuation">]</span> <span class="operator">==</span> <span class="string">&quot;start_raw_subpipeline&quot;</span><span class="punctuation">:</span>
            subPipeOp <span class="operator">=</span> <span class="punctuation">{</span>
                <span class="string">&quot;batchTolerance&quot;</span><span class="punctuation">:</span> <span class="string">&quot;100&quot;</span><span class="punctuation">,</span>
                <span class="string">&quot;concurrentPipelines&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
                    <span class="string">&quot;amount&quot;</span><span class="punctuation">:</span> <span class="string">&quot;10&quot;</span><span class="punctuation">,</span>
                    <span class="string">&quot;rejectOnFailure&quot;</span><span class="punctuation">:</span> <span class="string">&quot;true&quot;</span>
                <span class="punctuation">}</span><span class="punctuation">,</span>
                <span class="string">&quot;progressVerbosityLevel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;info&quot;</span><span class="punctuation">,</span>
                <span class="string">&quot;ttl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3600&quot;</span>
            <span class="punctuation">}</span>
            flowInput <span class="operator">=</span> <span class="punctuation">{</span>
                <span class="string">&quot;files&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
                    <span class="string">&quot;link&quot;</span><span class="punctuation">:</span> <span class="string">&quot;links-1&quot;</span>
                <span class="punctuation">}</span>
            <span class="punctuation">}</span>
            nodes <span class="operator">=</span> <span class="punctuation">[</span><span class="punctuation">{</span><span class="string">&quot;nodeName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;one&quot;</span><span class="punctuation">,</span>
                      <span class="string">&quot;algorithmName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green-alg&quot;</span><span class="punctuation">,</span>
                      <span class="string">&quot;input&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">}</span><span class="punctuation">,</span>
                     <span class="punctuation">{</span><span class="string">&quot;nodeName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;two&quot;</span><span class="punctuation">,</span>
                      <span class="string">&quot;algorithmName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;black-alg&quot;</span><span class="punctuation">,</span>
                      <span class="string">&quot;input&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;@one&quot;</span><span class="punctuation">]</span><span class="punctuation">}</span><span class="punctuation">]</span>
            ret <span class="operator">=</span> hkubeapi<span class="punctuation">.</span>start_raw_subpipeline<span class="punctuation">(</span><span class="string">&quot;raw-sub-pipeline&quot;</span><span class="punctuation">,</span> nodes<span class="punctuation">,</span> flowInput<span class="punctuation">,</span> options<span class="operator">=</span>subPipeOp<span class="punctuation">,</span> webhooks<span class="operator">=</span><span class="punctuation">{</span><span class="punctuation">}</span><span class="punctuation">,</span>
                                                 includeResult<span class="operator">=</span><span class="boolean">True</span><span class="punctuation">)</span>
            <span class="keyword">return</span> ret

    <span class="keyword">return</span> <span class="number">42</span></pre><h3 id="java">Java<a class="hash-link" href="#java">#</a></h3><h4 id="start-algorithm-1">Start algorithm<a class="hash-link" href="#start-algorithm-1">#</a></h4><p>Starts algorithm execution with input within the current pipeline and <strong>waits for results</strong></p><ul><li>startAlgorithm(algorithmName, input, includeResult=True)<ul><li>Args<pre class="prism language-undefined"><span class="operator">-</span>  algorithmName <span class="punctuation">(</span>string<span class="punctuation">)</span><span class="punctuation">:</span> The name <span class="keyword">of</span> the algorithm to start<span class="punctuation">.</span>
<span class="operator">-</span>  input <span class="punctuation">(</span>List<span class="punctuation">)</span><span class="punctuation">:</span> Optional input <span class="keyword">for</span> the algorithm<span class="punctuation">.</span>
<span class="operator">-</span>  includeResult <span class="punctuation">(</span>bool<span class="punctuation">)</span><span class="punctuation">:</span> <span class="keyword">if</span> True<span class="punctuation">,</span> returns the result <span class="keyword">of</span> the algorithm execution<span class="punctuation">.</span></pre></li><li>Returns<pre class="prism language-undefined"><span class="operator">-</span>  Returns the result <span class="keyword">of</span> the algorithm <span class="punctuation">(</span>Map<span class="punctuation">)</span><span class="punctuation">.</span></pre></li></ul></li></ul><h4 id="start-stored-sub-pipeline-1">Start stored sub pipeline<a class="hash-link" href="#start-stored-sub-pipeline-1">#</a></h4><p>Starts sub-pipeline execution with input and <strong>waits for results</strong></p><ul><li>startStoredPipeLine(name, flowInput)<ul><li>Args<pre class="prism language-undefined"><span class="operator">-</span>  name <span class="punctuation">(</span>string<span class="punctuation">)</span><span class="punctuation">:</span> The name <span class="keyword">of</span> the pipeline to start<span class="punctuation">.</span>
<span class="operator">-</span>  flowInput <span class="punctuation">(</span>Map<span class="punctuation">)</span><span class="punctuation">:</span> Optional flowInput <span class="keyword">for</span> the pipeline<span class="punctuation">.</span></pre></li><li>Returns<pre class="prism language-undefined"><span class="operator">-</span>  Returns the result <span class="keyword">of</span> the pipeline<span class="punctuation">.</span></pre></li></ul></li></ul><h4 id="start-raw-sub-pipeline-1">Start raw sub pipeline<a class="hash-link" href="#start-raw-sub-pipeline-1">#</a></h4><p>Starts sub-pipeline execution with input, nodes, options and <strong>waits for results</strong></p><ul><li><p>startRawSubPipeLine( name, nodes, flowInput, options, webhooks)</p><ul><li><p>Args</p><pre class="prism language-undefined"><span class="operator">-</span>  name <span class="punctuation">(</span>string<span class="punctuation">)</span><span class="punctuation">:</span> The name <span class="keyword">of</span> the pipeline to start<span class="punctuation">.</span>
<span class="operator">-</span>  nodes <span class="punctuation">(</span>INode<span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">:</span> array <span class="keyword">of</span> node definitions <span class="punctuation">(</span>like <span class="keyword">in</span> the pipeline descriptor<span class="punctuation">)</span>
<span class="operator">-</span>  options <span class="punctuation">(</span>Map<span class="punctuation">)</span><span class="punctuation">:</span> pipeline options <span class="punctuation">(</span>like <span class="keyword">in</span> the pipeline descriptor<span class="punctuation">)</span>
<span class="operator">-</span>  webhooks <span class="punctuation">(</span>Map<span class="punctuation">)</span><span class="punctuation">:</span> webhook options <span class="punctuation">(</span>like <span class="keyword">in</span> the pipeline descriptor<span class="punctuation">)</span>
<span class="operator">-</span>  flowInput <span class="punctuation">(</span>Map<span class="punctuation">)</span><span class="punctuation">:</span> Optional flowInput <span class="keyword">for</span> the pipeline<span class="punctuation">.</span></pre></li><li><p>Returns</p><pre class="prism language-undefined"><span class="operator">-</span>  Returns the result <span class="keyword">of</span> the pipeline <span class="punctuation">(</span>Map<span class="punctuation">)</span><span class="punctuation">.</span></pre></li></ul></li></ul><h4 id="code-example-1">Code example<a class="hash-link" href="#code-example-1">#</a></h4><pre class="prism language-Java"><span class="keyword">import</span> hkube<span class="punctuation">.</span>algo<span class="punctuation">.</span>wrapper<span class="punctuation">.</span>IAlgorithm<span class="punctuation">;</span>
<span class="keyword">import</span> hkube<span class="punctuation">.</span>api<span class="punctuation">.</span>IHKubeAPI<span class="punctuation">;</span>
<span class="keyword">import</span> hkube<span class="punctuation">.</span>api<span class="punctuation">.</span>INode<span class="punctuation">;</span>
<span class="keyword">import</span> org<span class="punctuation">.</span>json<span class="punctuation">.</span>JSONObject<span class="punctuation">;</span>
<span class="keyword">import</span> java<span class="punctuation">.</span>util<span class="punctuation">.</span><span class="operator">*</span><span class="punctuation">;</span>

<span class="keyword">public</span> <span class="keyword">class</span> <span class="class-name">javaCodeApi</span> <span class="keyword">implements</span> <span class="class-name">IAlgorithm</span> <span class="punctuation">{</span>

    @Override
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">Init</span><span class="punctuation">(</span>Map args<span class="punctuation">)</span> <span class="punctuation">{</span>

    <span class="punctuation">}</span>

    @Override
    <span class="keyword">public</span> Object <span class="function">Start</span><span class="punctuation">(</span>Map args<span class="punctuation">,</span> IHKubeAPI hkubeAPI<span class="punctuation">)</span> throws Exception <span class="punctuation">{</span>

        Collection<span class="operator">&lt;</span>Object<span class="operator">&gt;</span> input <span class="operator">=</span> <span class="punctuation">(</span>Collection<span class="operator">&lt;</span>Object<span class="operator">&gt;</span><span class="punctuation">)</span>args<span class="punctuation">.</span><span class="keyword">get</span><span class="punctuation">(</span><span class="string">&quot;input&quot;</span><span class="punctuation">)</span><span class="punctuation">;</span>
        Map action <span class="operator">=</span> <span class="punctuation">(</span>Map<span class="punctuation">)</span> input<span class="punctuation">.</span><span class="function">iterator</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function">next</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>

        String act <span class="operator">=</span> <span class="punctuation">(</span>String<span class="punctuation">)</span>action<span class="punctuation">.</span><span class="keyword">get</span><span class="punctuation">(</span><span class="string">&quot;action&quot;</span><span class="punctuation">)</span><span class="punctuation">;</span>

        <span class="keyword">if</span><span class="punctuation">(</span>act<span class="punctuation">.</span><span class="function">equals</span><span class="punctuation">(</span><span class="string">&quot;startAlg&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">{</span>
            List<span class="operator">&lt;</span>String<span class="operator">&gt;</span> list<span class="operator">=</span><span class="keyword">new</span> <span class="class-name">ArrayList</span><span class="operator">&lt;</span>String<span class="operator">&gt;</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
            list<span class="punctuation">.</span><span class="function">add</span><span class="punctuation">(</span><span class="string">&quot;4&quot;</span><span class="punctuation">)</span><span class="punctuation">;</span>
            Object res <span class="operator">=</span>  hkubeAPI<span class="punctuation">.</span><span class="function">startAlgorithm</span><span class="punctuation">(</span><span class="string">&quot;green-alg&quot;</span><span class="punctuation">,</span>list <span class="punctuation">,</span><span class="keyword">true</span><span class="punctuation">)</span><span class="punctuation">;</span>
            <span class="keyword">return</span> res<span class="punctuation">;</span>
        <span class="punctuation">}</span>

        <span class="keyword">if</span><span class="punctuation">(</span>act<span class="punctuation">.</span><span class="function">equals</span><span class="punctuation">(</span><span class="string">&quot;startStored&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">{</span>
            Object res <span class="operator">=</span>   hkubeAPI<span class="punctuation">.</span><span class="function">startStoredPipeLine</span><span class="punctuation">(</span><span class="string">&quot;simple&quot;</span><span class="punctuation">,</span><span class="keyword">new</span> <span class="class-name">HashMap</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
            <span class="keyword">return</span> res<span class="punctuation">;</span>
        <span class="punctuation">}</span>

        <span class="keyword">if</span><span class="punctuation">(</span>act<span class="punctuation">.</span><span class="function">equals</span><span class="punctuation">(</span><span class="string">&quot;startRaw&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">{</span>
            INode jnkNode <span class="operator">=</span> <span class="function">createNode</span><span class="punctuation">(</span><span class="string">&quot;one&quot;</span><span class="punctuation">,</span><span class="string">&quot;green-alg&quot;</span> <span class="punctuation">,</span> <span class="string">&quot;42&quot;</span><span class="punctuation">)</span><span class="punctuation">;</span>
            INode<span class="punctuation">[</span><span class="punctuation">]</span> nodes <span class="operator">=</span><span class="punctuation">{</span>jnkNode<span class="punctuation">}</span><span class="punctuation">;</span>
            Object res <span class="operator">=</span>   hkubeAPI<span class="punctuation">.</span><span class="function">startRawSubPipeLine</span><span class="punctuation">(</span><span class="string">&quot;raw-pipe&quot;</span><span class="punctuation">,</span>nodes<span class="punctuation">,</span><span class="keyword">new</span> <span class="class-name">HashMap</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">,</span><span class="keyword">new</span> <span class="class-name">HashMap</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">,</span><span class="keyword">new</span> <span class="class-name">HashMap</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
            <span class="keyword">return</span> res<span class="punctuation">;</span>
        <span class="punctuation">}</span>

        <span class="keyword">return</span>  <span class="number">42</span><span class="punctuation">;</span>
    <span class="punctuation">}</span>

    <span class="keyword">private</span> INode <span class="function">createNode</span><span class="punctuation">(</span>String nodeName<span class="punctuation">,</span>String algName<span class="punctuation">,</span>String nodeInput<span class="punctuation">)</span> <span class="punctuation">{</span>
        JSONObject obj<span class="operator">=</span><span class="keyword">new</span> <span class="class-name">JSONObject</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
        obj<span class="punctuation">.</span><span class="function">put</span><span class="punctuation">(</span><span class="string">&quot;input&quot;</span><span class="punctuation">,</span>nodeInput<span class="punctuation">)</span><span class="punctuation">;</span>
        JSONObject<span class="punctuation">[</span><span class="punctuation">]</span> obj1 <span class="operator">=</span><span class="keyword">new</span> <span class="class-name">JSONObject</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">;</span>
        obj1<span class="punctuation">[</span><span class="number">0</span><span class="punctuation">]</span><span class="operator">=</span>obj<span class="punctuation">;</span>

        INode node <span class="operator">=</span> <span class="keyword">new</span> <span class="class-name">INode</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>
            @Override
            <span class="keyword">public</span> String <span class="function">getName</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>
                <span class="keyword">return</span> nodeName<span class="punctuation">;</span>
            <span class="punctuation">}</span>

            @Override
            <span class="keyword">public</span> JSONObject<span class="punctuation">[</span><span class="punctuation">]</span> <span class="function">getInput</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>
                <span class="keyword">return</span> obj1<span class="punctuation">;</span>
            <span class="punctuation">}</span>

            @Override
            <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">setInput</span><span class="punctuation">(</span>JSONObject<span class="punctuation">[</span><span class="punctuation">]</span> input<span class="punctuation">)</span> <span class="punctuation">{</span>

            <span class="punctuation">}</span>

            @Override
            <span class="keyword">public</span> String <span class="function">getAlgorithmName</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>
                <span class="keyword">return</span> algName<span class="punctuation">;</span>
            <span class="punctuation">}</span>

            @Override
            <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">setAlgorithmName</span><span class="punctuation">(</span>String algName<span class="punctuation">)</span> <span class="punctuation">{</span>

            <span class="punctuation">}</span>

        <span class="punctuation">}</span><span class="punctuation">;</span>
        <span class="keyword">return</span> node<span class="punctuation">;</span>
    <span class="punctuation">}</span>

    @Override
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">Stop</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>
    <span class="punctuation">}</span>

    @Override
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">Cleanup</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>
    <span class="punctuation">}</span>

<span class="punctuation">}</span></pre><h4 id="start-algorithm-asynchronously">Start algorithm  asynchronously<a class="hash-link" href="#start-algorithm-asynchronously">#</a></h4><p>Starts algorithm execution with input within the current pipeline  <strong>and returns Future&lt;Map&gt;</strong> Than will later of be filled with the result value.</p><ul><li>startAlgorithmAsync(algorithmName, input, includeResult=True)<ul><li>Args<pre class="prism language-undefined"><span class="operator">-</span>  algorithmName <span class="punctuation">(</span>string<span class="punctuation">)</span><span class="punctuation">:</span> The name <span class="keyword">of</span> the algorithm to start<span class="punctuation">.</span>
<span class="operator">-</span>  input <span class="punctuation">(</span>List<span class="punctuation">)</span><span class="punctuation">:</span> Optional input <span class="keyword">for</span> the algorithm<span class="punctuation">.</span>
<span class="operator">-</span>  includeResult <span class="punctuation">(</span>bool<span class="punctuation">)</span><span class="punctuation">:</span> <span class="keyword">if</span> True<span class="punctuation">,</span> returns the result <span class="keyword">of</span> the algorithm execution<span class="punctuation">.</span></pre></li><li>Returns<pre class="prism language-undefined"><span class="operator">-</span>  Returns a future object <span class="keyword">of</span>  start algorithm result <span class="punctuation">(</span>Future<span class="operator">&lt;</span>Map<span class="operator">&gt;</span><span class="punctuation">)</span></pre></li></ul></li></ul><h4 id="start-stored-sub-pipeline-asynchronously">Start stored sub pipeline asynchronously<a class="hash-link" href="#start-stored-sub-pipeline-asynchronously">#</a></h4><p>Starts sub-pipeline execution with input and <strong>and returns Future&lt;Map&gt;</strong> Than will later of be filled with the result value.</p><ul><li>startStoredPipeLine(name, flowInput)<ul><li>Args<pre class="prism language-undefined"><span class="operator">-</span>  name <span class="punctuation">(</span>string<span class="punctuation">)</span><span class="punctuation">:</span> The name <span class="keyword">of</span> the pipeline to start<span class="punctuation">.</span>
<span class="operator">-</span>  flowInput <span class="punctuation">(</span>Map<span class="punctuation">)</span><span class="punctuation">:</span> Optional flowInput <span class="keyword">for</span> the pipeline<span class="punctuation">.</span></pre></li><li>Returns<pre class="prism language-undefined"><span class="operator">-</span>  Returns a future object <span class="keyword">of</span>  start pipeline result <span class="punctuation">(</span>Future<span class="operator">&lt;</span>Map<span class="operator">&gt;</span><span class="punctuation">)</span></pre></li></ul></li></ul><h4 id="start-raw-sub-pipeline-asynchronously">Start raw sub pipeline asynchronously<a class="hash-link" href="#start-raw-sub-pipeline-asynchronously">#</a></h4><p>Starts sub-pipeline execution with input, nodes, options and <strong>and returns Future&lt;Map&gt;</strong> Than will later of be filled with the result value.</p><ul><li><p>startRawSubPipeLine( name, nodes, flowInput, options, webhooks)</p><ul><li><p>Args</p><pre class="prism language-undefined"><span class="operator">-</span>  name <span class="punctuation">(</span>string<span class="punctuation">)</span><span class="punctuation">:</span> The name <span class="keyword">of</span> the pipeline to start<span class="punctuation">.</span>
<span class="operator">-</span>  nodes <span class="punctuation">(</span>INode<span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">:</span> array <span class="keyword">of</span> node definitions <span class="punctuation">(</span>like <span class="keyword">in</span> the pipeline descriptor<span class="punctuation">)</span>
<span class="operator">-</span>  options <span class="punctuation">(</span>Map<span class="punctuation">)</span><span class="punctuation">:</span> pipeline options <span class="punctuation">(</span>like <span class="keyword">in</span> the pipeline descriptor<span class="punctuation">)</span>
<span class="operator">-</span>  webhooks <span class="punctuation">(</span>Map<span class="punctuation">)</span><span class="punctuation">:</span> webhook options <span class="punctuation">(</span>like <span class="keyword">in</span> the pipeline descriptor<span class="punctuation">)</span>
<span class="operator">-</span>  flowInput <span class="punctuation">(</span>Map<span class="punctuation">)</span><span class="punctuation">:</span> Optional flowInput <span class="keyword">for</span> the pipeline<span class="punctuation">.</span></pre></li><li><p>Returns</p><pre class="prism language-undefined"><span class="operator">-</span>  Returns a future object <span class="keyword">of</span>  start pipeline result <span class="punctuation">(</span>Future<span class="operator">&lt;</span>Map<span class="operator">&gt;</span><span class="punctuation">)</span></pre></li></ul></li></ul><h4 id="code-example-2">Code example<a class="hash-link" href="#code-example-2">#</a></h4><pre class="prism language-Java">    <span class="keyword">import</span> hkube<span class="punctuation">.</span>algo<span class="punctuation">.</span>wrapper<span class="punctuation">.</span>IAlgorithm<span class="punctuation">;</span>
    <span class="keyword">import</span> hkube<span class="punctuation">.</span>api<span class="punctuation">.</span>IHKubeAPI<span class="punctuation">;</span>
    <span class="keyword">import</span> hkube<span class="punctuation">.</span>api<span class="punctuation">.</span>INode<span class="punctuation">;</span>
    <span class="keyword">import</span> org<span class="punctuation">.</span>json<span class="punctuation">.</span>JSONObject<span class="punctuation">;</span>
    <span class="keyword">import</span> java<span class="punctuation">.</span>util<span class="punctuation">.</span><span class="operator">*</span><span class="punctuation">;</span>

    <span class="keyword">public</span> <span class="keyword">class</span> <span class="class-name">javaCodeApi</span> <span class="keyword">implements</span> <span class="class-name">IAlgorithm</span> <span class="punctuation">{</span>

        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">Init</span><span class="punctuation">(</span>Map args<span class="punctuation">)</span> <span class="punctuation">{</span>

        <span class="punctuation">}</span>
        <span class="keyword">private</span> Map <span class="function">returnWhenExecDone</span><span class="punctuation">(</span>APIExecutionFuture future<span class="punctuation">)</span> <span class="punctuation">{</span>
            <span class="keyword">while</span> <span class="punctuation">(</span><span class="operator">!</span>future<span class="punctuation">.</span><span class="function">isDone</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span> <span class="punctuation">{</span>
               <span class="keyword">try</span> <span class="punctuation">{</span>
                    Thread<span class="punctuation">.</span><span class="function">sleep</span><span class="punctuation">(</span><span class="number">100</span><span class="punctuation">)</span><span class="punctuation">;</span>
                <span class="punctuation">}</span> <span class="keyword">catch</span> <span class="punctuation">(</span><span class="class-name">InterruptedException</span> e<span class="punctuation">)</span> <span class="punctuation">{</span>
                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="class-name">RuntimeException</span><span class="punctuation">(</span>e<span class="punctuation">)</span><span class="punctuation">;</span>
                <span class="punctuation">}</span>
            <span class="punctuation">}</span>
            <span class="keyword">try</span> <span class="punctuation">{</span>
                <span class="keyword">return</span> future<span class="punctuation">.</span><span class="keyword">get</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
            <span class="punctuation">}</span> <span class="keyword">catch</span> <span class="punctuation">(</span><span class="class-name">InterruptedException</span> <span class="operator">|</span> ExecutionException e<span class="punctuation">)</span> <span class="punctuation">{</span>
                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="class-name">RuntimeException</span><span class="punctuation">(</span>e<span class="punctuation">)</span><span class="punctuation">;</span>
            <span class="punctuation">}</span>
        <span class="punctuation">}</span>

    @Override
    <span class="keyword">public</span> Object <span class="function">Start</span><span class="punctuation">(</span>Map args<span class="punctuation">,</span> IHKubeAPI hkubeAPI<span class="punctuation">)</span> throws Exception <span class="punctuation">{</span>

        Collection<span class="operator">&lt;</span>Object<span class="operator">&gt;</span> input <span class="operator">=</span> <span class="punctuation">(</span>Collection<span class="operator">&lt;</span>Object<span class="operator">&gt;</span><span class="punctuation">)</span>args<span class="punctuation">.</span><span class="keyword">get</span><span class="punctuation">(</span><span class="string">&quot;input&quot;</span><span class="punctuation">)</span><span class="punctuation">;</span>
        Map action <span class="operator">=</span> <span class="punctuation">(</span>Map<span class="punctuation">)</span> input<span class="punctuation">.</span><span class="function">iterator</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function">next</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>

        String act <span class="operator">=</span> <span class="punctuation">(</span>String<span class="punctuation">)</span>action<span class="punctuation">.</span><span class="keyword">get</span><span class="punctuation">(</span><span class="string">&quot;action&quot;</span><span class="punctuation">)</span><span class="punctuation">;</span>

        <span class="keyword">if</span><span class="punctuation">(</span>act<span class="punctuation">.</span><span class="function">equals</span><span class="punctuation">(</span><span class="string">&quot;startAlg&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">{</span>
            List<span class="operator">&lt;</span>String<span class="operator">&gt;</span> list<span class="operator">=</span><span class="keyword">new</span> <span class="class-name">ArrayList</span><span class="operator">&lt;</span>String<span class="operator">&gt;</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
            list<span class="punctuation">.</span><span class="function">add</span><span class="punctuation">(</span><span class="string">&quot;4&quot;</span><span class="punctuation">)</span><span class="punctuation">;</span>
            APIExecutionFuture futureResult <span class="operator">=</span>  hkubeAPI<span class="punctuation">.</span><span class="function">startAlgorithmAsynch</span><span class="punctuation">(</span><span class="string">&quot;green-alg&quot;</span><span class="punctuation">,</span>list <span class="punctuation">,</span><span class="keyword">true</span><span class="punctuation">)</span><span class="punctuation">;</span>
            res <span class="operator">=</span> returnWhenExecDone <span class="punctuation">(</span>futureResult<span class="punctuation">)</span><span class="punctuation">;</span>
            <span class="keyword">return</span> res<span class="punctuation">;</span>
        <span class="punctuation">}</span>

        <span class="keyword">if</span><span class="punctuation">(</span>act<span class="punctuation">.</span><span class="function">equals</span><span class="punctuation">(</span><span class="string">&quot;startStored&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">{</span>
            APIExecutionFuture futureResult <span class="operator">=</span>   hkubeAPI<span class="punctuation">.</span><span class="function">startStoredPipeLineAsynch</span><span class="punctuation">(</span><span class="string">&quot;simple&quot;</span><span class="punctuation">,</span><span class="keyword">new</span> <span class="class-name">HashMap</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
            res <span class="operator">=</span> returnWhenExecDone <span class="punctuation">(</span>futureResult<span class="punctuation">)</span><span class="punctuation">;</span>
            <span class="keyword">return</span> res<span class="punctuation">;</span>
        <span class="punctuation">}</span>

        <span class="keyword">if</span><span class="punctuation">(</span>act<span class="punctuation">.</span><span class="function">equals</span><span class="punctuation">(</span><span class="string">&quot;startRaw&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">{</span>
            INode jnkNode <span class="operator">=</span> <span class="function">createNode</span><span class="punctuation">(</span><span class="string">&quot;one&quot;</span><span class="punctuation">,</span><span class="string">&quot;green-alg&quot;</span> <span class="punctuation">,</span> <span class="string">&quot;42&quot;</span><span class="punctuation">)</span><span class="punctuation">;</span>
            INode<span class="punctuation">[</span><span class="punctuation">]</span> nodes <span class="operator">=</span><span class="punctuation">{</span>jnkNode<span class="punctuation">}</span><span class="punctuation">;</span>
             APIExecutionFuture futureResult <span class="operator">=</span>   hkubeAPI<span class="punctuation">.</span><span class="function">startRawSubPipeLineAsynch</span><span class="punctuation">(</span><span class="string">&quot;raw-pipe&quot;</span><span class="punctuation">,</span>nodes<span class="punctuation">,</span><span class="keyword">new</span> <span class="class-name">HashMap</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">,</span><span class="keyword">new</span> <span class="class-name">HashMap</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">,</span><span class="keyword">new</span> <span class="class-name">HashMap</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
            res <span class="operator">=</span> returnWhenExecDone <span class="punctuation">(</span>futureResult<span class="punctuation">)</span><span class="punctuation">;</span>
            <span class="keyword">return</span> res<span class="punctuation">;</span>
        <span class="punctuation">}</span>

        <span class="keyword">return</span>  <span class="number">42</span><span class="punctuation">;</span>
    <span class="punctuation">}</span>


    <span class="keyword">private</span> INode <span class="function">createNode</span><span class="punctuation">(</span>String nodeName<span class="punctuation">,</span>String algName<span class="punctuation">,</span>String nodeInput<span class="punctuation">)</span> <span class="punctuation">{</span>
        JSONObject obj<span class="operator">=</span><span class="keyword">new</span> <span class="class-name">JSONObject</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
        obj<span class="punctuation">.</span><span class="function">put</span><span class="punctuation">(</span><span class="string">&quot;input&quot;</span><span class="punctuation">,</span>nodeInput<span class="punctuation">)</span><span class="punctuation">;</span>
        JSONObject<span class="punctuation">[</span><span class="punctuation">]</span> obj1 <span class="operator">=</span><span class="keyword">new</span> <span class="class-name">JSONObject</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">;</span>
        obj1<span class="punctuation">[</span><span class="number">0</span><span class="punctuation">]</span><span class="operator">=</span>obj<span class="punctuation">;</span>

        INode node <span class="operator">=</span> <span class="keyword">new</span> <span class="class-name">INode</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>
            @Override
            <span class="keyword">public</span> String <span class="function">getName</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>
                <span class="keyword">return</span> nodeName<span class="punctuation">;</span>
            <span class="punctuation">}</span>

            @Override
            <span class="keyword">public</span> JSONObject<span class="punctuation">[</span><span class="punctuation">]</span> <span class="function">getInput</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>
                <span class="keyword">return</span> obj1<span class="punctuation">;</span>
            <span class="punctuation">}</span>

            @Override
            <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">setInput</span><span class="punctuation">(</span>JSONObject<span class="punctuation">[</span><span class="punctuation">]</span> input<span class="punctuation">)</span> <span class="punctuation">{</span>

            <span class="punctuation">}</span>

            @Override
            <span class="keyword">public</span> String <span class="function">getAlgorithmName</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>
                <span class="keyword">return</span> algName<span class="punctuation">;</span>
            <span class="punctuation">}</span>

            @Override
            <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">setAlgorithmName</span><span class="punctuation">(</span>String algName<span class="punctuation">)</span> <span class="punctuation">{</span>

            <span class="punctuation">}</span>

        <span class="punctuation">}</span><span class="punctuation">;</span>
        <span class="keyword">return</span> node<span class="punctuation">;</span>
    <span class="punctuation">}</span>



    @Override
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">Stop</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>

    <span class="punctuation">}</span>

    @Override
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">Cleanup</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>

    <span class="punctuation">}</span>

    <span class="punctuation">}</span></pre><h3 id="node-js">Node.js<a class="hash-link" href="#node-js">#</a></h3><h4 id="start-algorithm-2">Start algorithm<a class="hash-link" href="#start-algorithm-2">#</a></h4><p>Starts algorithm execution with input within the current pipeline and <strong>waits for results</strong></p><ul><li>startAlgorithm(algorithmName, input=[], includeResult=True)<ul><li>Args<pre class="prism language-undefined"><span class="operator">-</span>  algorithmName <span class="punctuation">(</span>string<span class="punctuation">)</span><span class="punctuation">:</span> The name <span class="keyword">of</span> the algorithm to start<span class="punctuation">.</span>
<span class="operator">-</span>  input <span class="punctuation">(</span>array<span class="punctuation">)</span><span class="punctuation">:</span> Optional input <span class="keyword">for</span> the algorithm<span class="punctuation">.</span>
<span class="operator">-</span>  includeResult <span class="punctuation">(</span>bool<span class="punctuation">)</span><span class="punctuation">:</span> <span class="keyword">if</span> True<span class="punctuation">,</span> returns the result <span class="keyword">of</span> the algorithm execution<span class="punctuation">.</span>
   <span class="operator">-</span>  <span class="keyword">default</span><span class="punctuation">:</span> True</pre></li><li>Returns<pre class="prism language-undefined"><span class="operator">-</span>  Returns the result <span class="keyword">of</span> the algorithm<span class="punctuation">.</span></pre></li></ul></li></ul><h4 id="start-stored-sub-pipeline-2">Start stored sub pipeline<a class="hash-link" href="#start-stored-sub-pipeline-2">#</a></h4><p>Starts sub-pipeline execution with input and <strong>waits for results</strong></p><ul><li>startStoredSubpipeline(name, flowInput={}, includeResult=True)<ul><li>Args<pre class="prism language-undefined"><span class="operator">-</span>  name <span class="punctuation">(</span>string<span class="punctuation">)</span><span class="punctuation">:</span> The name <span class="keyword">of</span> the pipeline to start<span class="punctuation">.</span>
<span class="operator">-</span>  flowInput <span class="punctuation">:</span> Optional flowInput <span class="keyword">for</span> the pipeline<span class="punctuation">.</span>
<span class="operator">-</span>  includeResult <span class="punctuation">(</span>bool<span class="punctuation">)</span><span class="punctuation">:</span> <span class="keyword">if</span> True<span class="punctuation">,</span> returns the result <span class="keyword">of</span> the pipeline execution<span class="punctuation">.</span>
   <span class="operator">-</span>  <span class="keyword">default</span><span class="punctuation">:</span> True</pre></li><li>Returns<pre class="prism language-undefined"><span class="operator">-</span>  Returns the result <span class="keyword">of</span> the pipeline<span class="punctuation">.</span></pre></li></ul></li></ul><h4 id="start-raw-sub-pipeline-2">Start raw sub pipeline<a class="hash-link" href="#start-raw-sub-pipeline-2">#</a></h4><p>Starts sub-pipeline execution with input, nodes, options, and <strong>waits for results</strong></p><ul><li>startRawSubpipeline(name, nodes, flowInput, options = {}, webhooks = {}, includeResult = true) <ul><li>Args<pre class="prism language-undefined"><span class="operator">-</span>  name <span class="punctuation">(</span>string<span class="punctuation">)</span><span class="punctuation">:</span> The name <span class="keyword">of</span> the pipeline to start<span class="punctuation">.</span>
<span class="operator">-</span>  nodes <span class="punctuation">(</span>array<span class="punctuation">)</span><span class="punctuation">:</span> array <span class="keyword">of</span> node definitions <span class="punctuation">(</span>like <span class="keyword">in</span> the pipeline descriptor<span class="punctuation">)</span>
<span class="operator">-</span>  options <span class="punctuation">:</span> pipeline options <span class="punctuation">(</span>like <span class="keyword">in</span> the pipeline descriptor<span class="punctuation">)</span>
<span class="operator">-</span>  webhooks <span class="punctuation">:</span> webhook options <span class="punctuation">(</span>like <span class="keyword">in</span> the pipeline descriptor<span class="punctuation">)</span>
<span class="operator">-</span>  flowInput <span class="punctuation">:</span> Optional flowInput <span class="keyword">for</span> the pipeline<span class="punctuation">.</span>
<span class="operator">-</span>  includeResult <span class="punctuation">(</span>bool<span class="punctuation">)</span><span class="punctuation">:</span> <span class="keyword">if</span> True<span class="punctuation">,</span> returns the result <span class="keyword">of</span> the pipeline execution<span class="punctuation">.</span>
   <span class="operator">-</span>  <span class="keyword">default</span><span class="punctuation">:</span> True</pre></li><li>Returns<pre class="prism language-undefined"><span class="operator">-</span>  Returns the result <span class="keyword">of</span> the pipeline<span class="punctuation">.</span></pre></li></ul></li></ul><h4 id="code-example-3">Code example<a class="hash-link" href="#code-example-3">#</a></h4><pre class="prism language-JavaScript">    <span class="keyword">const</span> start <span class="operator">=</span> <span class="keyword">async</span> <span class="punctuation">(</span>args<span class="punctuation">,</span> api<span class="punctuation">)</span> <span class="operator">=</span><span class="operator">&gt;</span> <span class="punctuation">{</span>
    <span class="keyword">let</span> ret<span class="operator">=</span><span class="string">&quot;did zero action&quot;</span>

    input<span class="operator">=</span>args<span class="punctuation">[</span><span class="string">&#x27;input&#x27;</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="number">0</span><span class="punctuation">]</span>
    <span class="keyword">if</span> <span class="punctuation">(</span>input<span class="punctuation">.</span><span class="function">hasOwnProperty</span><span class="punctuation">(</span><span class="string">&quot;action&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">{</span>
        <span class="keyword">if</span> <span class="punctuation">(</span>input<span class="punctuation">.</span>action <span class="operator">==</span> <span class="string">&quot;startAlg&quot;</span><span class="punctuation">)</span><span class="punctuation">{</span>
             ret <span class="operator">=</span> <span class="keyword">await</span> api<span class="punctuation">.</span><span class="function">startAlgorithm</span><span class="punctuation">(</span><span class="string">&quot;green-alg&quot;</span><span class="punctuation">,</span><span class="punctuation">[</span><span class="number">4</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">;</span>
        <span class="punctuation">}</span>
        <span class="keyword">if</span> <span class="punctuation">(</span>input<span class="punctuation">.</span>action <span class="operator">==</span> <span class="string">&quot;startStored&quot;</span><span class="punctuation">)</span><span class="punctuation">{</span>
             ret <span class="operator">=</span> <span class="keyword">await</span> api<span class="punctuation">.</span><span class="function">startStoredSubpipeline</span><span class="punctuation">(</span><span class="string">&quot;simple&quot;</span><span class="punctuation">,</span><span class="punctuation">{</span><span class="string">&quot;files&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span><span class="string">&quot;link&quot;</span><span class="punctuation">:</span> <span class="string">&quot;links-1&quot;</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
        <span class="punctuation">}</span>
        <span class="keyword">if</span> <span class="punctuation">(</span>input<span class="punctuation">.</span>action <span class="operator">==</span> <span class="string">&quot;startRaw&quot;</span><span class="punctuation">)</span><span class="punctuation">{</span>
          <span class="keyword">const</span> subPipeOption<span class="operator">=</span><span class="punctuation">{</span>
               <span class="string">&quot;batchTolerance&quot;</span><span class="punctuation">:</span> <span class="string">&quot;100&quot;</span><span class="punctuation">,</span>
               <span class="string">&quot;concurrentPipelines&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
                   <span class="string">&quot;amount&quot;</span><span class="punctuation">:</span> <span class="string">&quot;10&quot;</span><span class="punctuation">,</span>
                   <span class="string">&quot;rejectOnFailure&quot;</span><span class="punctuation">:</span> <span class="string">&quot;true&quot;</span>
               <span class="punctuation">}</span><span class="punctuation">,</span>
               <span class="string">&quot;progressVerbosityLevel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;info&quot;</span><span class="punctuation">,</span>
               <span class="string">&quot;ttl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3600&quot;</span>
           <span class="punctuation">}</span>
          <span class="keyword">const</span> flowInput <span class="operator">=</span> <span class="punctuation">{</span>
                         <span class="string">&quot;files&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
                              <span class="string">&quot;link&quot;</span><span class="punctuation">:</span> <span class="string">&quot;links-1&quot;</span>
                         <span class="punctuation">}</span>
           <span class="punctuation">}</span>
          <span class="keyword">const</span> nodes <span class="operator">=</span> <span class="punctuation">[</span><span class="punctuation">{</span><span class="string">&quot;nodeName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;one&quot;</span><span class="punctuation">,</span>
                         <span class="string">&quot;algorithmName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green-alg&quot;</span><span class="punctuation">,</span>
                         <span class="string">&quot;input&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">}</span><span class="punctuation">,</span>
                    <span class="punctuation">{</span><span class="string">&quot;nodeName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;two&quot;</span><span class="punctuation">,</span>
                         <span class="string">&quot;algorithmName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;black-alg&quot;</span><span class="punctuation">,</span>
                         <span class="string">&quot;input&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;@one&quot;</span><span class="punctuation">]</span><span class="punctuation">}</span><span class="punctuation">]</span>

          ret <span class="operator">=</span> <span class="keyword">await</span> api<span class="punctuation">.</span><span class="function">startRawSubpipeline</span><span class="punctuation">(</span><span class="string">&quot;raw-pipe&quot;</span><span class="punctuation">,</span>nodes<span class="punctuation">,</span>flowInput<span class="punctuation">,</span>subPipeOption<span class="punctuation">)</span><span class="punctuation">;</span>

          <span class="punctuation">}</span>       
    <span class="punctuation">}</span>
    <span class="keyword">return</span> ret<span class="punctuation">;</span>
  <span class="punctuation">}</span>
  module<span class="punctuation">.</span>exports <span class="operator">=</span> <span class="punctuation">{</span>
    start
<span class="punctuation">}</span></pre></div><div><a class="read-next" href="/learn/versions/"><span class="read-next-continue">Next </span><span class="read-next-title">Versions</span></a></div></div><div class="nav-docs"><div><h3>Learn</h3><ul><li><a style="margin-left:0;" class="active" href="/learn/">HKube 101</a><ul><li><a href="/learn/#features">Features</a></li><li><a href="/learn/#getting-started"> Getting started</a></li><li><a href="/learn/#let-s-talk-about-hkube"> Let&#x27;s talk about HKUBE</a></li><li><a href="/learn/#implementing-the-algorithms"> Implementing the Algorithms</a></li><li><a href="/learn/#step-by-step-cli-example">  Step-by-step CLI Example</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/install/">Install HKube</a><ul><li><a href="/learn/install/#prerequisites">Prerequisites</a></li><li><a href="/learn/install/#minikube-installation"> Minikube Installation</a></li><li><a href="/learn/install/#production-deployment"> Production Deployment</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/api/">API</a><ul><li><a href="/learn/api/#restful">Restful</a></li><li><a href="/learn/api/#cli"> Cli</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/installCLI/">Install HKube CLI</a><ul><li><a href="/learn/installCLI/#overview">Overview</a></li><li><a href="/learn/installCLI/#setup"> Setup</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/algorithms/">Algorithms</a><ul><li><a href="/learn/algorithms/#integration-methods">Integration Methods</a></li><li><a href="/learn/algorithms/#events-communication"> Events &amp; Communication</a></li><li><a href="/learn/algorithms/#implementation"> Implementation</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/streaming/">Streaming</a><ul><li><a href="/learn/streaming/#introduction">Introduction</a></li><li><a href="/learn/streaming/#features"> Features</a></li><li><a href="/learn/streaming/#advanced"> Advanced</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/sidecars/">Sidecars</a><ul><li><a href="/learn/sidecars/#container-configuration">Container Configuration</a></li><li><a href="/learn/sidecars/#volumes-usage"> Volumes Usage</a></li><li><a href="/learn/sidecars/#environment-variables"> Environment Variables</a></li><li><a href="/learn/sidecars/#common-errors"> Common Errors</a></li><li><a href="/learn/sidecars/#multiple-sidecars"> Multiple Sidecars</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/kai/">KAI Integration</a><ul><li><a href="/learn/kai/#configuration">Configuration</a></li><li><a href="/learn/kai/#example"> Example</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/debug/">Debug Algorithm</a><ul><li><a href="/learn/debug/#introduction">Introduction</a></li><li><a href="/learn/debug/#use-cases"> Use Cases</a></li><li><a href="/learn/debug/#how-to"> How To</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/pipelines/">Pipelines</a><ul><li><a href="/learn/pipelines/#raw">Raw</a></li><li><a href="/learn/pipelines/#stored"> Stored</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/nodes/">Nodes</a><ul><li><a href="/learn/nodes/#entry-nodes">Entry Nodes</a></li><li><a href="/learn/nodes/#final-nodes"> Final Nodes</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/input/">Input</a><ul><li><a href="/learn/input/#input-types">Input Types</a></li><li><a href="/learn/input/#input-order"> Input Order</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/options/">Options</a><ul><li><a href="/learn/options/#batch-tolerance">Batch Tolerance</a></li><li><a href="/learn/options/#verbosity-level"> Verbosity Level</a></li><li><a href="/learn/options/#pipeline-concurrency"> Pipeline Concurrency</a></li><li><a href="/learn/options/#ttl"> TTL</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/execution/">Pipeline Execution</a><ul><li><a href="/learn/execution/#flow-input">Flow Input</a></li><li><a href="/learn/execution/#reference"> Reference</a></li><li><a href="/learn/execution/#batch"> Batch</a></li><li><a href="/learn/execution/#batch-reference"> Batch Reference</a></li><li><a href="/learn/execution/#wait-any"> Wait Any</a></li><li><a href="/learn/execution/#output"> Output</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/advancedPipeline/">Advanced Pipeline Descriptor</a><ul><li><a href="/learn/advancedPipeline/#advance-options">Advance Options</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/triggers/">Triggers</a><ul><li><a href="/learn/triggers/#cron">Cron</a></li><li><a href="/learn/triggers/#pipelines"> Pipelines</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/webhooks/">Webhooks</a><ul><li><a href="/learn/webhooks/#progress">Progress</a></li><li><a href="/learn/webhooks/#result"> Result</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/caching/">Caching / Run Node</a><ul><li><a href="/learn/caching/#introduction">Introduction</a></li><li><a href="/learn/caching/#use-cases"> Use Cases</a></li><li><a href="/learn/caching/#how-to-activate-cache"> How to activate cache</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/codeapi/">Code API</a><ul><li><a href="/learn/codeapi/#introduction">Introduction</a></li><li><a href="/learn/codeapi/#python"> Python</a></li><li><a href="/learn/codeapi/#java"> Java</a></li><li><a href="/learn/codeapi/#node-js"> Node.js</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/versions/">Versions</a><ul><li><a href="/learn/versions/#algorithms">Algorithms</a></li><li><a href="/learn/versions/#pipelines"> Pipelines</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/tensorboard/">Tensorboard Integration</a><ul><li><a href="/learn/tensorboard/#introduction">Introduction</a></li><li><a href="/learn/tensorboard/#config"> Config</a></li></ul></li></ul></div></div></div></section><footer><section class="sitemap"><div class="sitemap-group"><h5><a href="/learn/">Learn</a></h5><a href="/learn/">Introduction</a><a href="/learn/pipelines/">Pipeline</a><a href="/learn/nodes/">Nodes</a><a href="/learn/input/">Input</a><a href="/learn/execution/">Execution</a><a href="/learn/webhooks/">Webhooks</a></div><div class="sitemap-group"><h5><a href="/tech/dashboard/">Dashboard</a></h5><a href="/tech/dashboard/#overview">Overview</a><a href="/tech/dashboard/#tables">Tables</a><a href="/tech/dashboard/#operations">Operations</a></div><div class="sitemap-group"><h5><a href="/media/">Media</a></h5><a href="/media/#jane/">Meet Jane</a><a href="/media/#distributed/">Distributed pipeline</a><a href="/media/#hpc/">HPC over Kubernetes</a><a href="/media/#architecture/">Hkube Architecture</a></div><div class="sitemap-group"><h5><a href="/learn/algorithms/">Algorithms</a></h5><a href="/learn/algorithms/">Introduction</a><a href="/learn/algorithms/#api/">API</a><a href="/learn/algorithms/#implement/">Implement</a><a href="/learn/algorithms/#build/">Build</a><a href="/learn/algorithms/#publish/">Publish</a></div></section><section class="copyright">Copyright <span><script>document.write(new Date().getFullYear())</script> </span><noscript>2018</noscript>Hkube. MIT</section></footer><script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript" src="/vendor/scroller.js"></script><script>
        docsearch({
          appId: 'BQD9PBVIWN',
          apiKey: '1866dee8e47cc3f926114008ed8f7756',
          indexName: 'hkube',
          inputSelector: '#algolia-search-input',
          debug: false
        });
      </script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-118778729-1"></script><script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-118778729-1');
      </script></body></html>