<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><title>Webhooks | Hkube</title><meta name="viewport" content="width=640"/><meta property="og:title" content="Hkube: HPC over kubernetes."/><meta property="og:description" content="Hkube - HPC over kubernetes."/><meta property="og:type" content="website"/><meta property="og:url" content="http://hkube.io/"/><meta property="og:image" content="/img/og_image.png"/><meta property="og:image:type" content="image/png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@hkube"/><meta name="twitter:title" content="Hkube: HPC over kubernetes"/><meta name="twitter:description" content="Hkube HPC over kubernetes"/><meta name="twitter:image" content="/img/twitter_image.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="home" type="application/rss+xml" href="/blog/rss.xml" title="Hkube Team Blog"/><link rel="stylesheet" href="/style.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300|Roboto:300"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,400i,600"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/></head><body><header><section><a class="nav-home" href="/"><img class="nav-logo" src="/img/logo.png" width="30" height="30"/>Hkube</a><nav><a href="/start/">Get Started</a><a href="/tutorial/">Tutorial</a><a href="/learn/">Learn</a><a href="/algorithms/">Algorithms</a></nav><div class="algolia-search-wrapper"><input type="text" id="algolia-search-input" placeholder="Search docs..."/></div></section></header><section><div class="documentationContent"><div class="inner-content"><h1>Webhooks</h1><div><p>The WebHooks are an HTTP callbacks, the system can send request to the client<br/>when something happens. consider it like a push notifications.<br/>There are two types of webhooks, progress and result.  </p><p>You can also fetch the same data from the API:
<em> progress - /api/v1/exec/status
</em> result   - /api/v1/exec/results</p><p>Webhooks headers are:<br/>Method: POST<br/>Content-type: application/json</p><p><em>The webhooks are optional</em></p><h3><a class="anchor" name="progress"></a>Progress <a class="hash-link" href="#progress">#</a></h3><p>The purpose of the progress webhook is to update the client<br/>when the state of the pipeline is changed.</p><pre class="prism language-js"><span class="string">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;batch&quot;</span><span class="punctuation">,</span>
<span class="string">&quot;nodes&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">{</span>
    <span class="string">&quot;nodeName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;algorithmName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green-alg&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;input&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;#[1,2,3]&quot;</span><span class="punctuation">]</span>
<span class="punctuation">}</span><span class="punctuation">]</span><span class="punctuation">,</span>
<span class="string">&quot;webhooks&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
    <span class="string">&quot;progress&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://&lt;URL&gt;&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;result&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://&lt;URL&gt;&quot;</span>
<span class="punctuation">}</span></pre><p>And this is the progress webhook payload</p><pre class="prism language-js"><span class="punctuation">{</span>
    <span class="string">&quot;jobId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;batch:672a8b0e-c0b0-486e-bb2b-4571b0805f29&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;timestamp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2018-01-16T14:47:04.142Z&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;pipeline&quot;</span><span class="punctuation">:</span> <span class="string">&quot;batch&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
        <span class="string">&quot;level&quot;</span><span class="punctuation">:</span> <span class="string">&quot;info&quot;</span><span class="punctuation">,</span>
        <span class="string">&quot;status&quot;</span><span class="punctuation">:</span> <span class="string">&quot;completed&quot;</span><span class="punctuation">,</span>
        <span class="string">&quot;progress&quot;</span><span class="punctuation">:</span> <span class="string">&quot;100.00&quot;</span><span class="punctuation">,</span>
        <span class="string">&quot;details&quot;</span><span class="punctuation">:</span> <span class="string">&quot;100.00% completed, 3 succeed&quot;</span>
    <span class="punctuation">}</span>
<span class="punctuation">}</span></pre><h3><a class="anchor" name="verbosity-level"></a>Verbosity Level <a class="hash-link" href="#verbosity-level">#</a></h3><p>The Verbosity Level is a setting that allow to control what type of progress events the client will notified about.<br/>The severity levels are ascending from least important to most important:
<em> trace
</em> debug
<em> info
</em> warn
<em> error
</em> critical</p><p>If the client specified <strong>debug</strong> level, every progress from debug level and above will be sent to the client.</p><pre class="prism language-js"><span class="string">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;batch&quot;</span><span class="punctuation">,</span>
<span class="string">&quot;nodes&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">{</span>
    <span class="string">&quot;nodeName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;algorithmName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green-alg&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;input&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;#[1,2,3,4,5,6,7,8,9,10]&quot;</span><span class="punctuation">]</span>
<span class="punctuation">}</span><span class="punctuation">]</span><span class="punctuation">,</span>
<span class="string">&quot;webhooks&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
    <span class="string">&quot;progress&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&lt;URL&gt;&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;result&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&lt;URL&gt;&quot;</span>
<span class="punctuation">}</span><span class="punctuation">,</span>
<span class="string">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
    <span class="string">&quot;progressVerbosityLevel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;debug&quot;</span>
<span class="punctuation">}</span></pre><p>And this is the progress webhook payload:</p><pre class="prism language-js"><span class="punctuation">{</span>
    <span class="string">&quot;jobId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;batch:0358b42d-e0c0-4ce8-ae9a-466f02841d87&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;timestamp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2018-01-16T14:27:16.056Z&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;pipeline&quot;</span><span class="punctuation">:</span> <span class="string">&quot;batch&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
        <span class="string">&quot;level&quot;</span><span class="punctuation">:</span> <span class="string">&quot;debug&quot;</span><span class="punctuation">,</span>
        <span class="string">&quot;status&quot;</span><span class="punctuation">:</span> <span class="string">&quot;active&quot;</span><span class="punctuation">,</span>
        <span class="string">&quot;progress&quot;</span><span class="punctuation">:</span> <span class="string">&quot;33.33&quot;</span><span class="punctuation">,</span>
        <span class="string">&quot;details&quot;</span><span class="punctuation">:</span> <span class="string">&quot;33.33% completed, 4 succeed, 2 active, 4 pending, 2 creating&quot;</span><span class="punctuation">,</span>
        <span class="string">&quot;activeNodes&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>
            <span class="punctuation">{</span>
                <span class="string">&quot;nodeName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green&quot;</span><span class="punctuation">,</span>
                <span class="string">&quot;algorithmName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green-alg&quot;</span><span class="punctuation">,</span>
                <span class="string">&quot;batch&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
                    <span class="string">&quot;active&quot;</span><span class="punctuation">:</span> <span class="number">6</span><span class="punctuation">,</span>
                    <span class="string">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">10</span>
                <span class="punctuation">}</span>
            <span class="punctuation">}</span>
        <span class="punctuation">]</span>
    <span class="punctuation">}</span>
<span class="punctuation">}</span></pre><h3><a class="anchor" name="result"></a>Result <a class="hash-link" href="#result">#</a></h3><p>The purpose of the result webhook is to update the client when the pipeline is completed.<br/>By running the following batch pipeline, the system will send the result to the specified address.</p><pre class="prism language-js"><span class="string">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;batch-pipeline&quot;</span><span class="punctuation">,</span>
<span class="string">&quot;nodes&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">{</span>
    <span class="string">&quot;nodeName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;algorithmName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green-alg&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;input&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;#[1,2,3]&quot;</span><span class="punctuation">]</span>
<span class="punctuation">}</span><span class="punctuation">]</span><span class="punctuation">,</span>
<span class="string">&quot;webhooks&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
    <span class="string">&quot;progress&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&lt;URL&gt;&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;result&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&lt;URL&gt;&quot;</span>
<span class="punctuation">}</span></pre><p>This is the result webhook payload, notice that there is a result for each batch node.</p><pre class="prism language-js"><span class="punctuation">{</span>
    <span class="string">&quot;jobId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;batch-pipeline:e51c8dd7-7a7b-4d65-ad36-d1a919a9dee1&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;timestamp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2018-01-16T15:15:00.369Z&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;pipeline&quot;</span><span class="punctuation">:</span> <span class="string">&quot;batch-pipeline&quot;</span><span class="punctuation">,</span>
    <span class="string">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">{</span>
        <span class="string">&quot;result&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>
            <span class="punctuation">{</span>
                <span class="string">&quot;nodeName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green&quot;</span><span class="punctuation">,</span>
                <span class="string">&quot;batchID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green#1&quot;</span><span class="punctuation">,</span>
                <span class="string">&quot;algorithmName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green-alg&quot;</span><span class="punctuation">,</span>
                <span class="string">&quot;result&quot;</span><span class="punctuation">:</span> <span class="number">10</span>
            <span class="punctuation">}</span><span class="punctuation">,</span>
            <span class="punctuation">{</span>
                <span class="string">&quot;nodeName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green&quot;</span><span class="punctuation">,</span>
                <span class="string">&quot;batchID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green#2&quot;</span><span class="punctuation">,</span>
                <span class="string">&quot;algorithmName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green-alg&quot;</span><span class="punctuation">,</span>
                <span class="string">&quot;result&quot;</span><span class="punctuation">:</span> <span class="number">20</span>
            <span class="punctuation">}</span><span class="punctuation">,</span>
            <span class="punctuation">{</span>
                <span class="string">&quot;nodeName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green&quot;</span><span class="punctuation">,</span>
                <span class="string">&quot;batchID&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green#3&quot;</span><span class="punctuation">,</span>
                <span class="string">&quot;algorithmName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;green-alg&quot;</span><span class="punctuation">,</span>
                <span class="string">&quot;result&quot;</span><span class="punctuation">:</span> <span class="number">30</span>
            <span class="punctuation">}</span><span class="punctuation">,</span>
        <span class="punctuation">]</span><span class="punctuation">,</span>
        <span class="string">&quot;status&quot;</span><span class="punctuation">:</span> <span class="string">&quot;completed&quot;</span>
    <span class="punctuation">}</span>
<span class="punctuation">}</span></pre></div></div><div class="nav-docs"><div><h3>Learn</h3><ul><li><a style="margin-left:0;" class="active" href="/learn/">Introduction</a></li><li><a style="margin-left:0;" class="active" href="/learn/pipeline/">Pipeline</a></li><li><a style="margin-left:0;" class="active" href="/learn/nodes/">Nodes</a><ul><li><a href="/learn/nodes/#entry-nodes">Entry Nodes</a></li><li><a href="/learn/nodes/#final-nodes"> Final Nodes</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/input/">Input</a><ul><li><a href="/learn/input/#input-types">Input Types</a></li><li><a href="/learn/input/#input-order"> Input Order</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/execution/">Execution</a><ul><li><a href="/learn/execution/#flow-input">Flow Input</a></li><li><a href="/learn/execution/#reference">Reference</a></li><li><a href="/learn/execution/#batch">Batch</a></li><li><a href="/learn/execution/#batch-reference">Batch Reference</a></li><li><a href="/learn/execution/#wait-any">Wait Any</a></li><li><a href="/learn/execution/#another-batch-example">Another Batch Example</a></li><li><a href="/learn/execution/#another-wait-any-example"> Another Wait Any Example</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/learn/webhooks/">Webhooks</a><ul><li><a href="/learn/webhooks/#progress">Progress</a></li><li><a href="/learn/webhooks/#verbosity-level"> Verbosity Level</a></li><li><a href="/learn/webhooks/#result">Result</a></li></ul></li></ul></div></div></div></section><footer><section class="sitemap"><a href="/" class="nav-home"></a><div><h5><a href="/learn/">Learn</a></h5><a href="/learn/">Introduction</a><a href="/learn/pipeline/">Pipeline</a><a href="/learn/nodes/">Nodes</a><a href="/learn/input/">Input</a><a href="/learn/execution/">Execution</a><a href="/learn/webhooks/">Webhooks</a></div></section><section class="copyright">Copyright Â©<span><script>document.write(new Date().getFullYear())</script> </span><noscript>2018</noscript>Hkube. MIT</section></footer><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
        docsearch({
          apiKey: '1f200a3c89d24e8bae4ab2934c78f67c',
          indexName: 'hkube',
          inputSelector: '#algolia-search-input'
        });
      </script><script>

      </script></body></html>